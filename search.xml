<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Condaç”¨æ³•</title>
    <url>/2020/09/08/Conda%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<h3 id="condaæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†ã€ç¯å¢ƒç®¡ç†å·¥å…·âš™ï¸">condaæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†ã€ç¯å¢ƒç®¡ç†å·¥å…·âš™ï¸</h3>
<p>ä¸€èˆ¬ï¼Œminicondaåªé’ˆå¯¹pythonğŸè¿™ä¸ªç¯å¢ƒï¼Œè€Œanacondaå…¶å®å°±æ¯”è¾ƒå…¨é¢ï¼Œå¯ä»¥ç”¨äºå¤šä¸ªç¼–ç¨‹è¯­è¨€çš„ç¯å¢ƒç®¡ç†ï¼Œæ¯”å¦‚Rè¯­è¨€ï¼ŒJavaScriptç­‰ç­‰</p>
<a id="more"></a>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">å®‰è£…è·¯å¾„ï¼š/home/xxx/miniconda3</span><br><span class="line"></span><br><span class="line">é€€å‡ºå‘½ä»¤ï¼šconda deactivate env_name</span><br><span class="line"></span><br><span class="line">åˆ é™¤ç¯å¢ƒï¼šconda env <span class="builtin-name">remove</span> env_name</span><br><span class="line"></span><br><span class="line">æ˜¾ç¤ºç¯å¢ƒåˆ—è¡¨ï¼šconda env list</span><br><span class="line"></span><br><span class="line">å¦‚æœåˆ›å»ºç¯å¢ƒï¼Œä½¿ç”¨æŒ‡å®šè·¯å¾„çš„æ–¹å¼ï¼Œå‘½ä»¤å¦‚ä¸‹</span><br><span class="line"></span><br><span class="line">conda create <span class="attribute">-p</span>=path/env_name <span class="attribute">python</span>=python_version</span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆå¼€å¯è¿™ä¸ªç¯å¢ƒçš„æ–¹æ³•ï¼šconda activate path/env_name</span><br><span class="line"></span><br><span class="line">åŒç†ï¼Œåˆ é™¤è¿™ä¸ªç¯å¢ƒçš„æ–¹æ³•å°±æ˜¯conda env <span class="builtin-name">remove</span> -p /path/env_name</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„è¯ï¼Œè¯¥ç¯å¢ƒå°±æŒ‡å®šäº†ç‰¹å®šçš„è·¯å¾„ï¼Œä½†æ˜¯åç§°å´ä¸ºç©ºï¼Œæš‚æ—¶è¿˜æ‰¾ä¸åˆ°å¦‚ä½•æ”¹åå­—çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åˆ›å»ºç¯å¢ƒçš„æ—¶å€™ï¼Œè¦ä¹ˆæŒ‡å®šè·¯å¾„ï¼Œè¦ä¹ˆæŒ‡å®šåç§°ï¼ˆè·¯å¾„è§„å®šåªåœ¨path/miniconda/envä¸­ï¼‰</p>
<p>ğŸ’¥è§£å†³æ–¹æ³•:æ˜¯ä½¿ç”¨<span class="label success">è½¯é“¾æ¥</span>æŠŠè·¯å¾„å¼•å…¥path/miniconda/env/env_nameä¸­ï¼Œå°±å¯ä»¥äº†ï¼Œlike the picture show below.</p>
<p><img src="/assets/img/Conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.png" alt=""></p>
<hr>
<p>æœ‰æ—¶å€™ï¼Œä½¿ç”¨pythonæ— æ³•ä¸‹è½½æŸäº›åŒ…ï¼Œæˆ–è€…ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œè¿™æ˜¯å› ä¸ºcondaä¸‹è½½åŒ…æ˜¯ä½¿ç”¨å›½å¤–çš„ç½‘å€æ¥ä¸‹è½½çš„ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®ï¼Œä½¿ç”¨å›½å†…çš„é•œåƒ</p>
<p>æ¸…åğŸ‘¨â€ğŸ“é•œåƒå†…å®¹å’Œä¿®æ”¹æ–¹æ³•åœ¨<a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">è¿™é‡Œ</a></p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Mavenä¾èµ–é—®é¢˜</title>
    <url>/2020/09/05/Maven%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>ç”±äºæˆ‘çš„mavené•œåƒé…ç½®æ˜¯aliyunçš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘çš„æ‰€æœ‰ä¾èµ–åŒ…éƒ½ä¼šå»aliyunä»“åº“å»æ‰¾ï¼Œä½†æ˜¯ï¼Œä¸€ç›´æ‰¾ä¸åˆ°ä¸¤ä¸ªåŒ…</p>
<p>é€šè¿‡<a href="https://maven.aliyun.com/mvn/search">aliyunä»“åº“æœåŠ¡</a>ï¼Œæˆ‘ç¡®å®æ‰¾ä¸åˆ°è¿™ä¸¤ä¸ªåŒ…çš„ä¾èµ–ï¼Œæ‰€ä»¥è‡ªç„¶æ— æ³•è‡ªåŠ¨ä¸‹è½½</p>
<a id="more"></a>
<p>ä½†æ˜¯æˆ‘çš„<code>pom.xml</code>æ–‡ä»¶é‡Œé¢ä¹Ÿé…å¤‡äº†ä»“åº“å•Šï¼Œé˜¿é‡Œäº‘é‡Œé¢æ²¡æœ‰ï¼Œé‚£ä¹ˆæˆ‘çš„<code>pom.xml</code>é…å¤‡çš„ä»“åº“åº”è¯¥æœ‰äº†å§</p>
<p>æ„å»ºæˆ‘çš„é¡¹ç›®å´è¿˜ä¸€ç›´æŠ¥ç¼ºå°‘ä¾èµ–çš„é”™è¯¯ã€‚</p>
<p>é€šè¿‡ä¸Šç½‘æŸ¥çœ‹ï¼ŒåŸå› æ˜¯ï¼š</p>
<p>æˆ‘åœ¨<code>/path/to/maven/config/settings.xml</code>ä¸­çœ‹åˆ°æˆ‘çš„mirrorså±æ€§ä¸­é…ç½®å¦‚ä¸‹ğŸ‘‡</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="params">&lt;mirror&gt;</span></span><br><span class="line">     <span class="params">&lt;id&gt;</span>aliyun<span class="params">&lt;/id&gt;</span></span><br><span class="line">  <span class="meta">#è¿™é‡Œçš„â€œ*â€è¡¨ç¤ºåªç”¨è¿™ä¸ªä»“åº“ï¼Œå…¶ä»–ä»“åº“éƒ½ä¸ç”¨ï¼Œå…¨éƒ¨å¿½ç•¥</span></span><br><span class="line">     <span class="params">&lt;mirrorOf&gt;</span>*<span class="params">&lt;/mirrorOf&gt;</span></span><br><span class="line">     <span class="params">&lt;name&gt;</span>aliyun maven<span class="params">&lt;/name&gt;</span></span><br><span class="line">     <span class="params">&lt;url&gt;</span>http:<span class="comment">//maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span></span><br><span class="line"><span class="params">&lt;/mirror&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºè¿™ä¸ªåŸå› ï¼Œæ‰€ä»¥å¯¼è‡´åé¢pom.xmlé…ç½®çš„ä¸œè¥¿éƒ½è¢«å¿½ç•¥äº†ï¼Œæ‰€ä»¥æ‰æ‰¾ä¸åˆ°é‚£äº›ä¾èµ–åŒ…ğŸ’©</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>Classpathæ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <url>/2020/09/04/Classpath%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>åœ¨å†™<code>SSM</code>é…ç½®æ–‡ä»¶çš„æ—¶å€™ç»å¸¸çœ‹åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œæ¯”å¦‚ï¼š<code>classpath:applicationContext.xml</code>ï¼Œæœ‰å°è±¡äº†å—ğŸ˜¤ï¼Ÿ</p>
<a id="more"></a>
<p>è¯·çœ‹ä¸‹å›¾ğŸ‘‡ï¼Œä¸€çœ‹ä¾¿çŸ¥</p>
<p><img src="/assets/img/image-20200604094831938.png" alt="ä¸€èˆ¬é¡¹ç›®æ¶æ„å›¾"></p>
<p>å¯å½“é¡¹ç›®è¢«ç¼–è¯‘åï¼Œæ¶æ„å°±å˜åŒ–äº†å“¦~ğŸ˜‰</p>
<p><img src="/assets/img/image-20200604095454394.png" alt="ç¼–è¯‘åçš„æ¶æ„å›¾"></p>
<p>æ‰€ä»¥,ç¼–è¯‘å<code>java</code>æ–‡ä»¶å¤¹çš„æ–‡ä»¶å’Œ<code>resource</code>æ–‡ä»¶å¤¹çš„æ–‡ä»¶å°±éƒ½æ”¾åœ¨äº†<code>classes</code>ç›®å½•ï¼›è€Œ<code>classpath</code>å…¶å®å°±æ˜¯<code>WEB-INF/classes</code>è¿™ä¸ªç›®å½•è·¯å¾„</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>SSM</tag>
        <tag>Configuration</tag>
      </tags>
  </entry>
  <entry>
    <title>Microsoft-Storeæ‰“ä¸å¼€?</title>
    <url>/2020/09/05/Microsoft-Store%E6%89%93%E4%B8%8D%E5%BC%80/</url>
    <content><![CDATA[<p><strong>æ‰“ä¸å¼€microsoftçš„åº”ç”¨å•†åŸï¼Œwindowæ›´æ–°ä¹Ÿæ²¡åŠæ³•?</strong>,å…¶å®æ›´æ–°å°±å¯ä»¥äº†ï¼Œåªä¸è¿‡ä½ çš„æ›´æ–°ä¸æ˜¯çœŸæ­£çš„æ›´æ–°ğŸ™Œ</p>
<blockquote>
<p>é‡‡ç”¨è¿™ä¸ªæ–¹æ³•æ‰“å¼€Microsoft Store,å¹¶ä¸éœ€è¦ç¿»å¢™å“¦âœ”ï¸</p>
</blockquote>
<a id="more"></a>
<h2 id="æ­¥éª¤">æ­¥éª¤</h2>
<p>â€‹	1.åˆ°<strong>æœåŠ¡</strong>âš™ï¸é‡Œé¢æ‰“å¼€<code>Windows</code>æ›´æ–°ï¼Œå°±å¯ä»¥æ›´æ–°<code>Windows</code></p>
<p>â€‹	2.ç­‰å¾…æ›´æ–°å¥½äº†ï¼Œé‡å¯ç³»ç»ŸğŸ’»ï¼ŒæŸ¥çœ‹æ›´æ–°å¹¶å°è¯•æ‰“å¼€<code>Store</code>ğŸ ,å¦‚æœæ›´æ–°é‚£é‡Œè¿˜æ˜¯æç¤ºé‡å¯ä»¥å®Œæˆé‡è¦æ›´æ–°,è®°å¾—å†é‡å¯</p>
<p>â€‹	3.è¿™æ ·ï¼Œä¸€èˆ¬å°±å¯ä»¥æ‰“å¼€<code>Store</code></p>
<h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>
<p>å¦‚æœå¯ä»¥æ‰“å¼€<code>Store</code>,ä½†æ˜¯å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼Œ<code>store</code>æŸäº›é€‰é¡¹ä¹Ÿæ‰“ä¸å¼€</p>
</li>
<li>
<p>æ‰“å¼€ç³»ç»Ÿè‡ªå¸¦**<code>IE</code>æµè§ˆå™¨**ï¼Œè¿›å…¥**<code>Internet</code>é€‰é¡¹<strong>åï¼Œé€‰æ‹©</strong>è¿æ¥**æ ç›®</p>
</li>
<li>
<p>ç‚¹å‡»<strong>å±€åŸŸç½‘è®¾ç½®</strong>ï¼Œè¿›å…¥è®¾ç½®é¡µé¢ä»¥åï¼Œå‹¾é€‰ä¸Š<strong>è‡ªåŠ¨æ£€æµ‹è®¾ç½®</strong>å…¶ä»–éƒ½ä¸å‹¾é€‰</p>
</li>
<li>
<p>ç‚¹å‡»<strong>ç¡®å®š</strong>ç¦»å¼€ï¼Œå°±å¯ä»¥è¿›å…¥<code>Store</code>äº†</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis And Jedis</title>
    <url>/2020/09/04/Redis-And-Jedis/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>æƒ³é€šè¿‡ç¼“å­˜æ¥ä¿å­˜å¾®ä¿¡å…¬ä¼—å·çš„<code>accesstoken</code>å’Œ<code>refreshtoken</code>ï¼Œè‡ªå·±å†™ä¹Ÿå¯ä»¥ï¼Œå°±æ˜¯åœ¨ä¿å­˜åœ¨æŸä¸ªç±»ä¸­ï¼Œæ¯æ¬¡å¯åŠ¨é¡¹ç›®ï¼Œè°ƒç”¨è¿™ä¸ªç±»å°±å¯ä»¥å®ç°å­˜å‚¨ï¼Œé’ˆå¯¹<code>accesstoken</code>ç”Ÿæˆä¸€ä¸ªï¼Œå¯ç”¨äºæ‰€æœ‰ç”¨æˆ·å’Œå„ä¸ªæ¥å£çš„è°ƒç”¨çš„ï¼Œè¿˜æ¯”è¾ƒå®¹æ˜“ï¼Œä½†æ˜¯<code>refreshtoken</code>éœ€è¦åŒ¹é…æ¯ä¸ªç”¨æˆ·ï¼Œæ€ä¹ˆé’ˆå¯¹ç”¨æˆ·idæ¥å­˜å‚¨ï¼Œå°±æ˜¯ä¸€ä¸ªéš¾é¢˜äº†ï¼Œè™½ç„¶æˆ‘ä¹‹å‰ä½¿ç”¨<code>list</code>ä¹Ÿå¯ä»¥å®ç°ï¼Œä½†æ˜¯è¯´å®è¯ï¼Œæœ‰ç‚¹åœŸï¼ğŸ˜’</p>
<a id="more"></a>
<h2 id="Redis">Redis</h2>
<h3 id="å‘½ä»¤">å‘½ä»¤</h3>
<p>è·å–ç¼“å­˜ï¼šget (key)</p>
<p>è®¾ç½®ç¼“å­˜ï¼šset (key) (value)</p>
<p>è·å–hashç¼“å­˜ï¼šhget (key) (field)</p>
<p>åˆ é™¤æ‰€æœ‰ç¼“å­˜ï¼šflushdb</p>
<hr>
<h2 id="Java-Operation-Objectâ€“jedis">Java Operation Objectâ€“jedis</h2>
<h3 id="é…ç½®">é…ç½®</h3>
<blockquote>
<p>æ³¨æ„ç‰ˆæœ¬spring-data-redisç‰ˆæœ¬ï¼</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">#åœ¨pom.xmlä¸Šå¼•å…¥ä¾èµ–ï¼Œæˆ‘æ˜¯ä½¿ç”¨ssmæ¡†æ¶æ¥æ­å»ºçš„</span><br><span class="line"><span class="comment">&lt;!-- é…ç½®redis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.data<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨springå®¹å™¨ä¸­é…ç½®ä¸¤ä¸ªå…³é”®çš„ç±»<code>JedisConnectionFactory</code>å’Œ<code>RedisTemplate/StringRedisTemplate</code>ã€‚</p>
<p>è¿™æ ·å°±å¯ä»¥ç›´æ¥åˆ©ç”¨<code>RedisTemplate</code>å¯¹è±¡æ¥æ“ä½œäº†ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘æ¨èä½¿ç”¨<code>StringRedisTemplate</code>,æ“ä½œæ›´åŠ æ–¹ä¾¿ï¼ğŸ˜†</p>
<hr>
<h3 id="æ“ä½œ">æ“ä½œ</h3>
<h4 id="RedisTemplateæ³¨è§£-æ“ä½œå¯¹è±¡">RedisTemplateæ³¨è§£ æ“ä½œå¯¹è±¡</h4>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œç±»ä¼¼äºä½¿ç”¨<code>RedisTemplate</code>è°ƒç”¨<code>OpsForXxx</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Redis geospatial operations, such as GEOADD, GEORADIUS</span></span><br><span class="line">GeoOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis hash operations</span></span><br><span class="line">HashOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis HyperLogLog operations, such as PFADD, PFCOUNT</span></span><br><span class="line">HyperLogLogOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis list operations</span></span><br><span class="line">ListOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis set operations</span></span><br><span class="line">SetOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis string (or value) operations</span></span><br><span class="line">ValueOperations</span><br><span class="line"></span><br><span class="line"><span class="comment">//Redis zset (or sorted set) operations</span></span><br><span class="line">ZSetOperations</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="ç‰¹æ®Šçš„æ–¹æ³•">ç‰¹æ®Šçš„æ–¹æ³•</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡opsForValue()ä¹Ÿå¯æ‰§è¡ŒredisTemplateçš„æ–¹æ³•ã€‚</span></span><br><span class="line">redisTemplate.opsForValue().getOperations().getExpire(<span class="string">&quot;keyçš„åç§°&quot;</span>)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="StringRedisTemplateæ“ä½œé›†é”¦">StringRedisTemplateæ“ä½œé›†é”¦</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">*<span class="comment">//å‘redisé‡Œå­˜å…¥æ•°æ®å’Œè®¾ç½®ç¼“å­˜æ—¶é—´*  </span></span><br><span class="line">stringRedisTemplate.opsForValue().set(<span class="string">&quot;baike&quot;</span>, <span class="string">&quot;100&quot;</span>, <span class="number">60</span> * <span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//valåš-1æ“ä½œ*  </span></span><br><span class="line">stringRedisTemplate.boundValueOps(<span class="string">&quot;baike&quot;</span>).increment(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//æ ¹æ®keyè·å–ç¼“å­˜ä¸­çš„val*  </span></span><br><span class="line">stringRedisTemplate.opsForValue().get(<span class="string">&quot;baike&quot;</span>)</span><br><span class="line"></span><br><span class="line">*<span class="comment">//val +1*  </span></span><br><span class="line">stringRedisTemplate.boundValueOps(<span class="string">&quot;baike&quot;</span>).increment(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//æ ¹æ®keyè·å–è¿‡æœŸæ—¶é—´*  </span></span><br><span class="line">stringRedisTemplate.getExpire(<span class="string">&quot;baike&quot;</span>);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//æ ¹æ®keyè·å–è¿‡æœŸæ—¶é—´å¹¶æ¢ç®—æˆæŒ‡å®šå•ä½*  </span></span><br><span class="line">stringRedisTemplate.getExpire(<span class="string">&quot;baike&quot;</span>,TimeUnit.SECONDS);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//æ ¹æ®keyåˆ é™¤ç¼“å­˜*  </span></span><br><span class="line">stringRedisTemplate.delete(<span class="string">&quot;baike&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ£€æŸ¥keyæ˜¯å¦å­˜åœ¨ï¼Œè¿”å›booleanå€¼*  </span></span><br><span class="line">stringRedisTemplate.hasKey(<span class="string">&quot;baike&quot;</span>);</span><br><span class="line"></span><br><span class="line">*<span class="comment">//å‘æŒ‡å®škeyä¸­å­˜æ”¾seté›†åˆ*  </span></span><br><span class="line">stringRedisTemplate.opsForSet().add(<span class="string">&quot;baike&quot;</span>, <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´*  </span></span><br><span class="line">stringRedisTemplate.expire(<span class="string">&quot;baike&quot;</span>,<span class="number">1000</span> , TimeUnit.MILLISECONDS);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®keyæŸ¥çœ‹é›†åˆä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šæ•°æ®*  </span></span><br><span class="line">stringRedisTemplate.opsForSet().isMember(<span class="string">&quot;baike&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®keyè·å–seté›†åˆ*  </span></span><br><span class="line">stringRedisTemplate.opsForSet().members(<span class="string">&quot;baike&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//éªŒè¯æœ‰æ•ˆæ—¶é—´*</span></span><br><span class="line">Long expire = redisTemplate.boundHashOps(<span class="string">&quot;baike&quot;</span>).getExpire();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨åº•å±‚å‘½ä»¤</span></span><br><span class="line">StringRedisTemplate.execute((RedisCallback&lt;Void&gt;) con -&gt; &#123; con.hSet(<span class="string">&quot;age&quot;</span>.getBytes(),<span class="string">&quot;23&quot;</span>.getBytes());</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;    &#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="RedisTemplateå¸¸ç”¨é›†åˆä½¿ç”¨è¯´æ˜-opsForHash">RedisTemplateå¸¸ç”¨é›†åˆä½¿ç”¨è¯´æ˜-opsForHash</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€put(H key, HK hashKey, HV value) </span><br><span class="line">    <span class="comment">//æ–°å¢hashMapå€¼ </span></span><br><span class="line">    redisTemplate.opsForHash().put(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map1&quot;</span>,<span class="string">&quot;map1-1&quot;</span>);   		</span><br><span class="line">	redisTemplate.opsForHash().put(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map2&quot;</span>,<span class="string">&quot;map2-2&quot;</span>);    </span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€values(H key) </span><br><span class="line">    <span class="comment">//è·å–æŒ‡å®šå˜é‡ä¸­çš„hashMapå€¼ã€‚</span></span><br><span class="line">    List&lt;Object&gt; hashList = redisTemplate.opsForHash().values(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡values(H key)æ–¹æ³•è·å–å˜é‡ä¸­çš„hashMapå€¼:&quot;</span> + hashList);   </span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€entries(H key) </span><br><span class="line">    <span class="comment">//è·å–å˜é‡ä¸­çš„é”®å€¼å¯¹ã€‚ </span></span><br><span class="line">	Map&lt;Object,Object&gt; map = redisTemplate.opsForHash().entries(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡entries(H key)æ–¹æ³•è·å–å˜é‡ä¸­çš„é”®å€¼å¯¹:&quot;</span> + map);  </span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€get(H key, Object hashKey) </span><br><span class="line">   <span class="comment">// è·å–å˜é‡ä¸­çš„æŒ‡å®šmapé”®æ˜¯å¦æœ‰å€¼,å¦‚æœå­˜åœ¨è¯¥mapé”®åˆ™è·å–å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›nullã€‚ </span></span><br><span class="line">	Object mapValue = redisTemplate.opsForHash().get(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map1&quot;</span>);   	</span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡get(H key, Object hashKey)æ–¹æ³•è·å–mapé”®çš„å€¼:&quot;</span> + mapValue); </span><br><span class="line"></span><br><span class="line"><span class="number">5</span>ã€<span class="comment">//hasKey(H key, Object hashKey) </span></span><br><span class="line">    åˆ¤æ–­å˜é‡ä¸­æ˜¯å¦æœ‰æŒ‡å®šçš„mapé”®ã€‚ </span><br><span class="line">    <span class="keyword">boolean</span> hashKeyBoolean = redisTemplate.opsForHash().hasKey(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map3&quot;</span>); </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡hasKey(H key, Object hashKey)æ–¹æ³•åˆ¤æ–­å˜é‡ä¸­æ˜¯å¦å­˜åœ¨mapé”®:&quot;</span> + hashKeyBoolean);     </span><br><span class="line"></span><br><span class="line"><span class="number">6</span>ã€keys(H key) </span><br><span class="line">   <span class="comment">// è·å–å˜é‡ä¸­çš„é”®ã€‚ </span></span><br><span class="line">	Set&lt;Object&gt; keySet = redisTemplate.opsForHash().keys(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡keys(H key)æ–¹æ³•è·å–å˜é‡ä¸­çš„é”®:&quot;</span> + keySet);    </span><br><span class="line"></span><br><span class="line"><span class="number">7</span>ã€size(H key) </span><br><span class="line">   <span class="comment">// è·å–å˜é‡çš„é•¿åº¦ã€‚ </span></span><br><span class="line">    <span class="keyword">long</span> hashLength = redisTemplate.opsForHash().size(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡size(H key)æ–¹æ³•è·å–å˜é‡çš„é•¿åº¦:&quot;</span> + hashLength);    </span><br><span class="line"></span><br><span class="line"><span class="number">8</span>ã€increment(H key, HK hashKey, <span class="keyword">double</span> delta)  </span><br><span class="line">   <span class="comment">// ä½¿å˜é‡ä¸­çš„é”®ä»¥doubleå€¼çš„å¤§å°è¿›è¡Œè‡ªå¢é•¿ã€‚</span></span><br><span class="line">    <span class="keyword">double</span> hashIncDouble = 						redisTemplate.opsForHash().increment(<span class="string">&quot;hashInc&quot;</span>,<span class="string">&quot;map1&quot;</span>,<span class="number">3</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡increment(H key, HK hashKey, double delta)æ–¹æ³•ä½¿å˜é‡ä¸­çš„é”®ä»¥å€¼çš„å¤§å°è¿›è¡Œè‡ªå¢é•¿:&quot;</span> + hashIncDouble);    </span><br><span class="line"></span><br><span class="line"><span class="number">9</span>ã€increment(H key, HK hashKey, <span class="keyword">long</span> delta) </span><br><span class="line">    <span class="comment">//ä½¿å˜é‡ä¸­çš„é”®ä»¥longå€¼çš„å¤§å°è¿›è¡Œè‡ªå¢é•¿ã€‚ </span></span><br><span class="line">    <span class="keyword">long</span> hashIncLong = redisTemplate.opsForHash().increment(<span class="string">&quot;hashInc&quot;</span>,<span class="string">&quot;map2&quot;</span>,<span class="number">6</span>);   	</span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡increment(H key, HK hashKey, long delta)æ–¹æ³•ä½¿å˜é‡ä¸­çš„é”®ä»¥å€¼çš„å¤§å°è¿›è¡Œè‡ªå¢é•¿:&quot;</span> + hashIncLong);    </span><br><span class="line"></span><br><span class="line"><span class="number">10</span>ã€multiGet(H key, Collection&lt;HK&gt; hashKeys) </span><br><span class="line">    <span class="comment">//ä»¥é›†åˆçš„æ–¹å¼è·å–å˜é‡ä¸­çš„å€¼ã€‚ </span></span><br><span class="line">    List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;Object&gt;();   </span><br><span class="line">	list.add(<span class="string">&quot;map1&quot;</span>);   </span><br><span class="line">	list.add(<span class="string">&quot;map2&quot;</span>);   </span><br><span class="line">	List mapValueList = redisTemplate.opsForHash().multiGet(<span class="string">&quot;hashValue&quot;</span>,list);  </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡multiGet(H key, Collection&lt;HK&gt; hashKeys)æ–¹æ³•ä»¥é›†åˆçš„æ–¹å¼è·å–å˜é‡ä¸­çš„å€¼:&quot;</span>+mapValueList);    </span><br><span class="line"></span><br><span class="line"><span class="number">11</span>ã€putAll(H key, Map&lt;? extends HK,? extends HV&gt; m)  </span><br><span class="line">    <span class="comment">//ä»¥mapé›†åˆçš„å½¢å¼æ·»åŠ é”®å€¼å¯¹ã€‚ </span></span><br><span class="line">    Map newMap = <span class="keyword">new</span> HashMap();   </span><br><span class="line">	newMap.put(<span class="string">&quot;map3&quot;</span>,<span class="string">&quot;map3-3&quot;</span>);   </span><br><span class="line">	newMap.put(<span class="string">&quot;map5&quot;</span>,<span class="string">&quot;map5-5&quot;</span>);   	</span><br><span class="line">	redisTemplate.opsForHash().putAll(<span class="string">&quot;hashValue&quot;</span>,newMap);   </span><br><span class="line">	map = redisTemplate.opsForHash().entries(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡putAll(H key, Map&lt;? extends HK,? extends HV&gt; m)æ–¹æ³•ä»¥mapé›†åˆçš„å½¢å¼æ·»åŠ é”®å€¼å¯¹:&quot;</span> + map);    </span><br><span class="line"></span><br><span class="line"><span class="number">12</span>ã€putIfAbsent(H key, HK hashKey, HV value) </span><br><span class="line">    <span class="comment">//å¦‚æœå˜é‡å€¼å­˜åœ¨ï¼Œåœ¨å˜é‡ä¸­å¯ä»¥æ·»åŠ ä¸å­˜åœ¨çš„çš„é”®å€¼å¯¹ï¼Œå¦‚æœå˜é‡ä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢ä¸€ä¸ªå˜é‡ï¼ŒåŒæ—¶å°†é”®å€¼å¯¹æ·»åŠ åˆ°è¯¥å˜é‡ã€‚ </span></span><br><span class="line">    redisTemplate.opsForHash().putIfAbsent(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map6&quot;</span>,<span class="string">&quot;map6-6&quot;</span>);   </span><br><span class="line">	map = redisTemplate.opsForHash().entries(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡putIfAbsent(H key, HK hashKey, HV value)æ–¹æ³•æ·»åŠ ä¸å­˜åœ¨äºå˜é‡ä¸­çš„é”®å€¼å¯¹:&quot;</span> + map);    </span><br><span class="line"></span><br><span class="line"><span class="number">13</span>ã€scan(H key, ScanOptions options) </span><br><span class="line">	<span class="comment">//åŒ¹é…è·å–é”®å€¼å¯¹ï¼ŒScanOptions.NONEä¸ºè·å–å…¨éƒ¨é”®å¯¹</span></span><br><span class="line">    ScanOptions.scanOptions().match(<span class="string">&quot;map1&quot;</span>).build()     </span><br><span class="line">    <span class="comment">//åŒ¹é…è·å–é”®ä½map1çš„é”®å€¼å¯¹,ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ã€‚ </span></span><br><span class="line">    Cursor&lt;Map.Entry&lt;Object,Object&gt;&gt; cursor = redisTemplate.opsForHash().scan(<span class="string">&quot;hashValue&quot;</span>,ScanOptions.scanOptions().match(<span class="string">&quot;map1&quot;</span>).build());  </span><br><span class="line">*<span class="comment">//Cursor&gt; cursor = redisTemplate.opsForHash().scan(&quot;hashValue&quot;,ScanOptions.NONE);*   </span></span><br><span class="line"><span class="keyword">while</span> (cursor.hasNext())&#123;    </span><br><span class="line">    Map.Entry&lt;Object,Object&gt; entry = cursor.next();    </span><br><span class="line">    System.out.println(<span class="string">&quot;é€šè¿‡scan(H key, ScanOptions options)æ–¹æ³•è·å–åŒ¹é…é”®å€¼å¯¹:&quot;</span> + entry.getKey() + <span class="string">&quot;----&gt;&quot;</span> + entry.getValue());  </span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="number">14</span>ã€delete(H key, Object... hashKeys) </span><br><span class="line">    <span class="comment">//åˆ é™¤å˜é‡ä¸­çš„é”®å€¼å¯¹ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œåˆ é™¤å¤šä¸ªé”®å€¼å¯¹ã€‚ 	</span></span><br><span class="line">    redisTemplate.opsForHash().delete(<span class="string">&quot;hashValue&quot;</span>,<span class="string">&quot;map1&quot;</span>,<span class="string">&quot;map2&quot;</span>);   </span><br><span class="line">	map = redisTemplate.opsForHash().entries(<span class="string">&quot;hashValue&quot;</span>);   </span><br><span class="line">	System.out.println(<span class="string">&quot;é€šè¿‡delete(H key, Object... hashKeys)æ–¹æ³•åˆ é™¤å˜é‡ä¸­çš„é”®å€¼å¯¹åå‰©ä½™çš„:&quot;</span> + map); </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¤´æ™•ä¸ğŸ’«ï¼Œæ…¢æ…¢çœ‹å§ğŸ‘€,å¤šåˆ·å‡ éï¼Œå°±æ‡‚äº†ğŸ˜</p>
</blockquote>
<hr>
<h4 id="Hash-mapping">Hash mapping</h4>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®ç°objectä¸Map&lt;K,V&gt;ç›¸äº’è½¬æ¢</span></span><br><span class="line"><span class="comment">//æ³•1.ObjectHashMapper</span></span><br><span class="line">è¿™ä¸ªå¯¹è±¡è¿”å›çš„æ˜¯å­—èŠ‚ç±»å‹çš„Hashmapï¼Œæ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨Jackson2HashMapperå§</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³•2.Jackson2HashMapper</span></span><br><span class="line">HashMapper&lt;Object,String,Object&gt; hashMapper = <span class="keyword">new</span> Jackson2HashMapper(<span class="keyword">false</span>);</span><br><span class="line">Map&lt;String, Object&gt; hash = hashMapper.toHash(user);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>server</tag>
        <tag>cache</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis Generator</title>
    <url>/2020/09/04/Mybatis-Generator/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>é€šè¿‡<code>mybatis</code>è·Ÿæ•°æ®åº“åšIOï¼Œå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æ¯æ¬¡è¦å†™çš„<code>mapper</code>å’Œ<code>DAO</code>åŒ…æ‹¬<code>Bean</code>ï¼Œä¸œè¥¿å®åœ¨æ˜¯å¤ªå¤šäº†ğŸ˜¢ã€‚æ‰€ä»¥é€šè¿‡é¢œç¾¤è€å¸ˆçš„åœ¨çº¿è¯¾å ‚ï¼Œæˆ‘äº†è§£äº†<span class="ljspan ljspan-reverse ljspan-blue"><a href="http://mybatis.org/generator/index.html">Mybatis Generator</a></span>,å¯ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆ<code>Dao</code>ã€<code>mapper</code>å’Œä¸æ•°æ®åº“è¡¨å¯¹åº”çš„<code>bean</code>ğŸ˜†ï¼ŒçœŸçš„å¾ˆçˆ½è¯¶ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="é…ç½®">é…ç½®</h2>
<p>åœ¨<span class="ljspan ljspan-blue"><a href="http://mybatis.org/generator/quickstart.html">å®˜æ–¹æ–‡æ¡£</a></span>ä¸Šï¼Œç›¸å…³é…ç½®å†™å¾—å¾ˆæ¸…æ¥šå“¦</p>
<h3 id="1-å¯¼å…¥ä¾èµ–åŒ…">1.å¯¼å…¥ä¾èµ–åŒ…</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">#å¼•å…¥ä¾èµ–åŒ…</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<h3 id="2-ç¼–å†™MBG-mybatis-generator-æ–‡ä»¶">2.ç¼–å†™MBG(mybatis generator)æ–‡ä»¶</h3>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"> <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç”ŸæˆMybatis3Simpleå½¢å¼çš„é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;simple&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3Simple&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ•°æ®åº“è¿æ¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;org.hsqldb.jdbcDriver&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:hsqldb:mem:aname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">userId</span>=<span class="string">&quot;username&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">password</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--é…ç½®æ•°æ®åº“è¡¨ç”Ÿæˆçš„å¯¹åº”bean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.model&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>/&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--é…ç½®mapper--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/resources&quot;</span>/&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--é…ç½®dao--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src/main/java&quot;</span>/&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--é…ç½®æ•°æ®åº“è¡¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">schema</span>=<span class="string">&quot;wxproject&#x27; tableName=&quot;</span><span class="attr">FooTable</span>&quot;  <span class="attr">domainObjectName</span>=<span class="string">&quot;FooTable&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç”Ÿæˆçš„<code>mybatis</code>ç›¸å…³æ–‡ä»¶å†…å®¹ï¼Œéƒ½è·ŸMBGæ–‡ä»¶ğŸ‘€æœ‰å…³</p>
</blockquote>
<hr>
<h2 id="å®ç°">å®ç°</h2>
<h3 id="è¿è¡ŒMBGé…ç½®æ–‡ä»¶">è¿è¡ŒMBGé…ç½®æ–‡ä»¶</h3>
<p>æœ‰å¾ˆ<a href="http://mybatis.org/generator/running/running.html">å¤šç§æ–¹å¼</a>ï¼Œæˆ‘ä½¿ç”¨<code>java</code>æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨æµ‹è¯•è¿è¡Œæˆ–è€…<code>main</code>å‡½æ•°å†…ä¸è¿è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; warnings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"> <span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line"> <span class="comment">//ä½ çš„mbgæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨å†™è·¯å¾„äº†</span></span><br><span class="line"> File configFile = <span class="keyword">new</span> File(<span class="string">&quot;generatorConfig.xml&quot;</span>);</span><br><span class="line"> ConfigurationParser cp = <span class="keyword">new</span> ConfigurationParser(warnings);</span><br><span class="line"> Configuration config = cp.parseConfiguration(configFile);</span><br><span class="line"> DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line"> MyBatisGenerator myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(config, callback, warnings);</span><br><span class="line"> myBatisGenerator.generate(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="é™„åŠ é…ç½®">é™„åŠ é…ç½®</h2>
<p>é’ˆå¯¹<code>mybatis</code>ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶<a href="http://mybatis.org/generator/afterRunning.html">MapperConfig.xml</a>ï¼Œå®ƒå¯¹<span class="ljspan ljspan-black"><a href="https://mybatis.org/mybatis-3/zh/index.html">MyBatis</a> </span>è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯æœ‰å…³ï¼Œå¯ä»¥é€šè¿‡<span class="ljspan ljspan-reverse ljspan-black"><a href="https://mybatis.org/mybatis-3/zh/configuration.html#settings">é…ç½®å‚æ•°</a></span>æ¥è®¾ç½®ç”Ÿæˆmybatisç›¸å…³æ–‡ä»¶çš„å†…å®¹å½¢å¼ï¼Œæ¯”å¦‚<code>mapUnderscoreToCamelCase</code>å¼€å¯<code>é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„</code></p>
<hr>
<h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h2>
<p>1.ä¸€èˆ¬ä½¿ç”¨<code>mybatis generator</code>ç”Ÿæˆçš„<code>bean</code>,éƒ½æ˜¯æ²¡æœ‰æ„é€ å‡½æ•°çš„ï¼›æ‰€ä»¥éœ€è¦è‡ªå·±æ–°å»ºï¼Œä½†æ˜¯å¦‚æœæœ‰æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°±å¿…é¡»è¦æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚</p>
<p>2.ä½¿ç”¨mybatis generatorç”Ÿæˆmapper.xml(ä¹Ÿå°±æ˜¯æ•°æ®åº“è¯­è¨€)ï¼Œå‘ç°åªæœ‰å‡ ä¸ªåŠŸèƒ½ï¼Œè€Œä¸”å…³é”®çš„insertSelectiveæ–¹æ³•æ²¡æœ‰ï¼Œè¿™å°±å¾ˆå°´å°¬äº†ğŸ˜–ï¼Œæˆ‘æ”¹äº†ä¾èµ–åŒ…å‘ç°æ²¡æœ‰ç”¨ï¼Œæœ€åå‘ç°æ˜¯åœ¨mbgçš„é…ç½®æ–‡ä»¶ä¸­&lt;context&gt;ä¸­çš„å±æ€§targetRuntime,ä»åŸæ¥çš„MyBatis3Simpleæ”¹ä¸ºMyBatis3ï¼Œå°±å¯ä»¥äº†ã€‚</p>
<p>3.ğŸ’¥è®°å¾—åœ¨<code>SpringIoC</code>å®¹å™¨ä¸­æ·»åŠ <code>mapperscannerconfigurer</code>è¿™ä¸ª<code>bean</code>ï¼Œä¸ç„¶æ— æ³•ä½¿ç”¨<code>dao</code>å±‚é‡Œé¢çš„æ¥å£ï¼Œå› ä¸º<code>&lt;context:component-scan&gt;</code>æ‰«æä¸åŒ…æ‹¬<code>dao</code>å±‚ã€‚</p>
<hr>
<h2 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h2>
<h4 id="1-MyBatis-Generator-ç”Ÿæˆå™¨æŠŠå…¶ä»–æ•°æ®åº“çš„åŒåè¡¨ç”Ÿæˆä¸‹æ¥çš„é—®é¢˜"><strong>1.MyBatis Generator ç”Ÿæˆå™¨æŠŠå…¶ä»–æ•°æ®åº“çš„åŒåè¡¨ç”Ÿæˆä¸‹æ¥çš„é—®é¢˜</strong></h4>
<p>è¿™æ˜¯å› ä¸ºmysqlä¸æ”¯æŒschemaå’Œcatalogï¼Œæ‰€ä»¥éœ€è¦åœ¨&lt;jabcConnection&gt;ä¸­æ·»åŠ å±æ€§â€œ &lt;property name=â€œnullCatalogMeansCurrentâ€ value=â€œtrueâ€/&gt;â€</p>
<p>ğŸ˜µæˆ‘çœ‹ä¸æ‡‚ğŸ¢ğŸ¢ï¼Œåæ­£åŠ äº†å°±å¯¹äº†ï¼Œæ—¢è§£å†³äº†é—®é¢˜ï¼ŒåŠ äº†å¯¹ç¨‹åºä¹Ÿæ²¡å•¥å½±å“ã€‚</p>
<p><a href="https://blog.csdn.net/qq_40233736/article/details/83314596">å‚è€ƒæ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>mybatis</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>SSMæ¶æ„è§£æ</title>
    <url>/2020/09/05/SSM%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<h3 id="ğŸ”°SSMæ¡†æ¶">ğŸ”°SSMæ¡†æ¶</h3>
<p><code>SSM</code>æ¡†æ¶å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†æ¥çœ‹å¾…ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯<code>springmvc</code>ï¼Œå¦ä¸€éƒ¨åˆ†ä¸º<code>spring</code>çš„<code>DI</code>å’Œ<code>IoC</code>ï¼Œå†ä¸€ä¸ªå°±æ˜¯<code>MyBatis</code>äº†</p>
<p>é¦–å…ˆå¯åŠ¨é¡¹ç›®æ—¶ï¼Œå°±æ˜¯å…ˆåŠ è½½<code>web.xml</code>ï¼›</p>
<p>ç›‘å¬å™¨&gt;è¿‡æ»¤å™¨&gt;<code>Servlet</code></p>
<p>æ‰€ä»¥ç›‘å¬å™¨ä¼šå…ˆåŠ è½½<code>Spring</code>å®¹å™¨çš„é…ç½®æ–‡ä»¶</p>
<a id="more"></a>
<p>ç„¶åè¿‡æ»¤å™¨æŠŠè¯·æ±‚çš„å†…å®¹è®¾ç½®ä¸ºåŒæ„çš„å­—ç¬¦ç¼–ç ä¹‹ç±»çš„è®¾ç½®</p>
<p>æœ€åæ‰æ˜¯<code>Servlet</code>æ‹¦æˆªå™¨æ‹¦æˆªè¯·æ±‚ï¼Œåˆ°<code>SpringMVC</code>ä¸­å¤„ç†</p>
<hr>
<h4 id="ğŸƒSpringéƒ¨åˆ†ï¼š">ğŸƒSpringéƒ¨åˆ†ï¼š</h4>
<p><a href="https://www.zhihu.com/question/23277575"><code>DI</code>å’Œ<code>IoC</code>çš„ç®€å•è§£é‡Š</a></p>
<p><code>DI</code>:ä¾èµ–æ³¨å…¥å°±æ˜¯è®©å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§å‡å°‘ï¼Œè®©æ¯ä¸ªå¯¹è±¡æ›´åŠ çµæ´»ï¼Œä¾¿äºä¿®æ”¹ï¼›</p>
<p><code>IoC</code>:å°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„ä¸»ä½“åˆç¨‹åºå‘˜è½¬ä¸º<code>Spring</code>æˆ–å…¶ä»–æ§åˆ¶åè½¬å®¹å™¨</p>
<p><code>ApplicationContext</code>å°±æ˜¯ä¸€ä¸ªæ§åˆ¶åè½¬å®¹å™¨</p>
<p><code>ApplicationContext</code>é‡Œé¢éƒ½æ˜¯ä¸€ä¸ªä¸ª<code>bean</code>ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡</p>
<p><code>bean</code>çš„<code>property</code>å±æ€§å¯¹åº”å¯¹è±¡çš„setteræ–¹æ³•æ³¨å…¥å®ä¾‹åŒ–ï¼›è€Œ<code>constructor-arg</code>å±æ€§å¯¹åº”å¯¹è±¡çš„æ„é€ å™¨æ–¹æ³•å®ä¾‹åŒ–</p>
<hr>
<h4 id="ğŸŒ€Springmvc">ğŸŒ€Springmvc</h4>
<p><img src="/assets/img/image-20200518131134856.png" alt="è¯·æ±‚å“åº”æµç¨‹å›¾"></p>
<p>å½“ç”¨æˆ·åœ¨æµè§ˆå™¨ç‚¹å‡»é“¾æ¥æˆ–æäº¤è¡¨å•çš„æ—¶å€™ï¼Œè¯·æ±‚å°±å¼€å§‹å·¥ä½œäº†</p>
<p>è¯·æ±‚çš„ç¬¬ä¸€ç«™ä¼šé€šè¿‡ä¸€ä¸ªå…¶å‰ç«¯æ§åˆ¶å™¨ï¼Œ<code>SSM</code>è¿™é‡Œå°±æ˜¯<code>DispacherServlet</code>ï¼›</p>
<p>ç„¶åç¬¬äºŒç«™ï¼Œ<code>DispacherServlet</code>ä¼šå°†è¯·æ±‚å‘é€ç»™<code>SpringMVC</code>æ§åˆ¶å™¨ï¼ˆ<code>Controller</code>ï¼‰ã€‚æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†è¯·æ±‚çš„<code>Spring</code>ç»„ä»¶ã€‚ä¸€èˆ¬éƒ½ä¼šæœ‰å¤šä¸ªæ§åˆ¶å™¨ï¼Œè¿™æ—¶å€™ï¼Œ<code>DispacherServlet</code>å°±ä¼šæŸ¥è¯¢ä¸€ä¸ªä¼šå¤šä¸ªå¤„ç†æ˜ å°„å™¨æ¥æ‰¾åˆ°é‚£ä¸ªæ§åˆ¶å™¨ï¼›</p>
<p>ç¬¬ä¸‰ç«™ï¼Œåˆ°äº†æ§åˆ¶å™¨ï¼Œè¯·æ±‚ä¼šå¸ä¸‹å™¨è´Ÿè½½ï¼ˆä¹Ÿå°±æ˜¯è¯·æ±‚çš„ä¿¡æ¯ï¼‰å…µç­‰å¾…æ§åˆ¶å™¨å¤„ç†</p>
<p>åˆ°äº†ç¬¬å››ç«™ï¼Œæ§åˆ¶å™¨åœ¨å®Œæˆå¤„ç†åï¼Œä¼šäº§ç”Ÿä¸€äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯è¦è¿”å›ç»™ç”¨æˆ·å¹¶åœ¨æµè§ˆå™¨æ˜¾ç¤ºã€‚è¿™äº›ä¿¡æ¯è¢«ç§°ä¸ºæ¨¡å‹ï¼ˆ<code>model</code>ï¼‰ã€‚å½“ç„¶è¿˜æœ‰ä¸€ä¸ªè§†å›¾åæ¥ä»£è¡¨è§†å›¾ï¼Œæ‰€ä»¥æ§åˆ¶å™¨æœ€åä¸€ä»¶äº‹å°±æ˜¯å°†è¯·æ±‚è¿åŒæ¨¡å‹å’Œè§†å›¾åå‘é€å›<code>DispacherServlet</code></p>
<p>ç„¶ååˆ°äº†ç¬¬äº”ç«™ï¼Œ<code>DispacherServlet</code>æœ‰è§†å›¾è§£æå™¨ï¼Œå®ƒå°†é€»è¾‘è§†å›¾ååŒ¹é…ä¸ºä¸€ä¸ªç‰¹å®šçš„è§†å›¾å®ç°</p>
<p>ç„¶åå°±æ˜¯ç¬¬å…­ç«™ï¼Œ<code>DispacherServlet</code>å°†æ¨¡å‹æ•°æ®æ¸²æŸ“åˆ°è§†å›¾ä¸Š</p>
<p>ç¬¬ä¸ƒæ­¥å°±æ˜¯è§†å›¾é€šè¿‡å“åº”å¯¹è±¡ä¼ é€’ç»™å®¢æˆ·ç«¯</p>
<hr>
<h4 id="â˜ï¸Mybatis">â˜ï¸Mybatis</h4>
<p>äº‹åŠ¡æ§åˆ¶ï¼šå°±æ˜¯è®©æ•°æ®åº“çš„æ›´æ–°èƒ½å¤Ÿå…·å¤‡äº‹åŠ¡çš„å››ç§åŸåˆ™ï¼šåŸå­æ€§ã€éš”ç¦»æ€§ã€ä¸€è‡´æ€§ã€æŒç»­æ€§ï¼›è¿™æ ·å°±å¯ä»¥ä½¿æ•°æ®åº“çš„æ›´æ–°ä¸å‡ºç°è„è¯»å¹»è¯»ç­‰æƒ…å†µã€‚</p>
<p>æ•°æ®æºï¼šä¸€èˆ¬ç”¨<code>C3P0</code>æ¥ç®¡ç†ï¼Œå®ç°è¿æ¥æ•°æ®åº“å¯ä»¥ä¸€æ¬¡æ€§å¤šæ¬¡è¿æ¥å¤šæ¬¡æäº¤ç­‰</p>
<p>æ‰«æå™¨ï¼ˆ<code>MapperScannerConfigurer</code>ï¼‰æ‰«ææ‰€æœ‰çš„<code>Dao</code>æ¥å£å®ç°ï¼ŒåŠ å…¥åˆ°<code>IoC</code>å®¹å™¨ä¸­</p>
<p><code>SqlSessionFactory</code>å¯ä»¥é…ç½®<code>Spring</code>å’Œ<code>MyBatis</code>çš„æ•´åˆ</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>SSM</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring æ³¨è§£åˆ†æ</title>
    <url>/2020/09/04/Spring-%E6%B3%A8%E8%A7%A3%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h3 id="Autowired">@Autowired</h3>
<p>ğŸƒ<code>Spring</code>å¯ä»¥å®ç°æ§åˆ¶åè½¬ï¼Œå°±æ˜¯å®ä¾‹åŒ–å¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡é‡Œé¢æœ‰å±æ€§å‘¢ï¼Ÿé‚£å°±ç”¨æ³¨è§£<code>@autowired </code>ç›´æ¥æ³¨å…¥å±æ€§(å®ä¾‹åŒ–çš„å¯¹è±¡)ï¼Œè¿™æ ·å°±å®ç°äº†è§£è€¦ğŸ™‰ï¼Œ<code>Controllerã€Serviceã€Dao</code>ç­‰åˆ†å±‚å°±æ˜¯åŸºäºæ­¤ã€‚</p>
<ul>
<li><code>bean</code>ä½œç”¨åŸŸ<code>singleton</code>å’Œ<code>prototype</code>çš„åŒºåˆ«</li>
</ul>
<p><code>singleton</code>ï¼šå®¹å™¨åœ¨åˆå§‹åŒ–æ—¶ï¼Œå°±ä¼šåˆ›å»ºå¯¹è±¡ï¼›å•ä¾‹ä¹Ÿæ”¯æŒå»¶è¿ŸåŠ è½½ï¼ˆå°±æ˜¯åªæœ‰åœ¨è¯·æ±‚æ—¶å†ç”Ÿæˆï¼‰ï¼›</p>
<a id="more"></a>
<p><code>prototype</code>ï¼šå®¹å™¨åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¸åˆ›å»ºå¯¹è±¡ï¼Œåªæ˜¯åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶ï¼ˆæ¯æ¬¡å®¹å™¨è·å–å¯¹è±¡æ—¶ï¼‰å†åˆ›å»ºå¯¹è±¡ï¼›å¹¶ä¸”æ¯æ¬¡è·å–å¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼›</p>
<blockquote>
<p><code>@Resource</code>â€”å®ƒå…¶å®è·Ÿ<code>@Autowired</code>æ•ˆæœä¸€æ ·ï¼Œåªä¸è¿‡å®ƒæ˜¯æ ¹æ®<code>name</code>æ¥æ³¨å…¥å®ä¾‹åŒ–å¯¹è±¡çš„ï¼Œè€ŒAutowiredåˆ™æ ¹æ®<code>id</code></p>
</blockquote>
<hr>
<h3 id="ResponseBody">@ResponseBody</h3>
<p><code>@responseBody</code>æ³¨è§£çš„ä½œç”¨æ˜¯å°†<code>controller</code>ä¸­çš„æ–¹æ³•è¿”å›çš„æ•°æ®ï¼Œé€šè¿‡é€‚å½“çš„è½¬æ¢å™¨è½¬æ¢ä¸ºæŒ‡å®šçš„æ ¼å¼ä¹‹åï¼Œå†™å…¥åˆ°<code>response</code>å¯¹è±¡çš„<code>body</code>åŒºï¼Œé€šå¸¸ç”¨æ¥è¿”å›<code>JSON</code>æ•°æ®æˆ–è€…æ˜¯<code>XML</code>æ•°æ®ğŸ˜µ</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨æ­¤æ³¨è§£ä¹‹åä¸ä¼šå†èµ°<strong>è§†å›¾å¤„ç†å™¨</strong>è¿™ä¸ªæµç¨‹ï¼Œè€Œæ˜¯ç›´æ¥å°†æ•°æ®å†™å…¥åˆ°<strong>è¾“å…¥æµ</strong>ä¸­ğŸ˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¿”å›æ•°æ®è€Œä¸æ˜¯é¡µé¢ï¼Œä»–çš„æ•ˆæœç­‰åŒäºé€šè¿‡<code>response</code>å¯¹è±¡è¾“å‡ºæŒ‡å®šæ ¼å¼çš„æ•°æ®ã€‚</p>
<hr>
<h3 id="æµ‹è¯•ä¸‰ä»¶å¥—ğŸ‘º">æµ‹è¯•ä¸‰ä»¶å¥—ğŸ‘º</h3>
<h4 id="Testã€-ContextConfigurationã€-Runwith"><em>@Testã€@ContextConfigurationã€@Runwith</em></h4>
<p>æˆ‘æƒ³ä½¿ç”¨<code>@Test</code>æµ‹è¯•æ¥å®Œæˆæ³¨è§£å½¢å¼çš„<code>SpringIoC</code>ï¼Œä½†æ˜¯æµ‹è¯•æ— æ³•å®ç°ï¼Œä½¿ç”¨<code>Java Application</code>å°±å¯ä»¥å®ç°ï¼åŸæ¥æµ‹è¯•åˆå§‹åŒ–IoCå®¹å™¨å¯ä»¥ç”¨<code>@ContextConfiguration</code>è¿™ä¸ªæ³¨è§£ï¼Œä¸ç®¡æ˜¯<code>XML</code>å½¢å¼è¿˜æ˜¯æ³¨è§£å½¢å¼çš„IoCå®¹å™¨ã€‚</p>
<p><code>@ContextConfiguration</code>å’Œ<code>@Runwith</code>äºŒè€…ä¸€èˆ¬ä¸åˆ†å¼€ï¼Œä¸€ä¸ªæ˜¯ç”¨äºå¯¼å…¥æµ‹è¯•ä½¿ç”¨çš„æµ‹è¯•åº“å‡½æ•°ï¼Œä¸€ä¸ªç”¨äºåŠ è½½é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯åŠ è½½é…ç½®<code>XML</code>æ–‡ä»¶æˆ–è€…<code>Javaæ–‡ä»¶</code>ï¼ˆä½¿ç”¨<code>@Configuration</code>æ ‡æ³¨é…ç½®<code>java</code>ç±»æ–‡ä»¶ï¼‰ï¼Œç”¨ä»¥å¯¼å…¥æŸäº›<code>Spring</code>å®¹å™¨çš„<code>bean</code>å¯¹è±¡ã€‚</p>
<blockquote>
<p>è¯¦æƒ…è¯·çœ‹ï¼š<strong>/demo2/src/main/java/cn/lj/test/addusertest.java</strong>ğŸ¾</p>
</blockquote>
<p>å¦‚æœéœ€è¦åŠ è½½springå®¹å™¨ï¼Œå¯ä»¥åœ¨<code>@ContextConfiguration</code>ä¸­åŠ è½½<code>Spring</code>å®¹å™¨åï¼Œç”¨äºå®ä¾‹åŒ–<code>Springå®¹å™¨</code>å¯¹è±¡</p>
<blockquote>
<p>ç¤ºä¾‹ï¼š/wx/src/main/java/cn.lj.wx.utils.CreateUtilsæ–¹æ³•ğŸ¾</p>
</blockquote>
<hr>
<h3 id="Component">@Component</h3>
<p>æ–°å»ºä¸€ä¸ª<code>Utils</code>ç±»ğŸ¸ï¼Œæœ‰ä¸ªå±æ€§<code>token</code>å’Œä¸¤ä¸ªæ–¹æ³•ï¼Œåœ¨å…¶ä»–ç±»é€šè¿‡<code>@Autowired</code>æ³¨å…¥è¿™ä¸ªç±»å¯¹è±¡æ—¶ï¼Œä¸€ç›´æŠ¥æ²¡æœ‰è¿™ä¸ªbeanå¯¹è±¡ï¼Œå¾ˆå¥‡æ€ªï¼Œæœ€åæŠŠå±æ€§tokenå»æ‰å°±å¯ä»¥äº†ã€‚åŸæ¥åœ¨å¼•å…¥<code>bean</code>å¯¹è±¡æ—¶ï¼Œéœ€è¦é…ç½®å¥½ä»–çš„å±æ€§ï¼Œæ‰€ä»¥åªè¦å±æ€§è®¾ç½®å¥½<code>Getter/Setter</code>æ–¹æ³•å°±å¯ä»¥ä½¿ç”¨<code>Autowired</code>è‡ªåŠ¨è£…é…äº†</p>
<p>æœ€å¥½è¿˜æ˜¯ä¸è¦è®¾ç½®å±æ€§å§ğŸ’…ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨<code>@Autowired</code>æˆ–<code>@Resource</code>æ³¨å…¥å±æ€§(è·Ÿ<code>Controller</code>ã€<code>Service</code>ä¸€æ ·)ï¼Œå°±å¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªç±»è®¾ä¸º<code>component</code>ç±»ï¼Œè®©å…¶ä»–ç±»å¯ä»¥è°ƒç”¨ã€‚</p>
<hr>
<h3 id="Dataã€-Getter">@Dataã€@Getter</h3>
<p>çœç•¥å¯¹è±¡get/setæ–¹æ³•çš„ç¼–å†™ï¼Œçœç•¥æ— å‚æ„é€ å‡½æ•°çš„ç¼–å†™ï¼Œæ€ä¹ˆåšåˆ°å‘¢ï¼Ÿé‚£å½“ç„¶è¦ä½¿ç”¨<span class="ljspan ljspan-blue"><a href="https://objectcomputing.com/resources/publications/sett/january-2010-reducing-boilerplate-code-with-project-lombok">lombok</a></span></p>
<h4 id="é…ç½®">é…ç½®</h4>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ³¨è§£Get/Setç­‰æ–¹æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¸‹è½½å®‰è£…lombokçš„æ’ä»¶">ä¸‹è½½å®‰è£…<code>lombok</code>çš„æ’ä»¶</h4>
<p>å…¶å®å°±æ˜¯ä¸‹è½½<span class="ljspan ljspan-blue"><a href="https://projectlombok.org/all-versions">lombok.jar</a></span>åï¼Œæ‰“å¼€å®ƒï¼Œå¼¹å‡ºå®‰è£…ç•Œé¢ï¼Œç„¶ååœ¨æ‰“å¼€çš„ç•Œé¢ä¸­æŒ‡å®šä½ çš„eclipseå®‰è£…çš„æ ¹ç›®å½•åå®‰è£…/æ›´æ–°ï¼Œæœ€åå®‰è£…å®Œæˆä¹‹åï¼Œè¯·ç¡®è®¤eclipseå®‰è£…è·¯å¾„ä¸‹æ˜¯å¦å¤šäº†ä¸€ä¸ªlombok.jaråŒ…ï¼Œå¹¶ä¸”å…¶é…ç½®æ–‡ä»¶eclipse.iniä¸­æ˜¯å¦ æ·»åŠ äº†å¦‚ä¸‹å†…å®¹:-javaagent:path\to\lombok.jar</p>
<p>å…·ä½“æ“ä½œæ­¥éª¤å¯<a href="https://www.cnblogs.com/boonya/p/10691466.html">å‚è€ƒåšä¸»</a>çš„å®‰è£…æ­¥éª¤</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>SSM</tag>
        <tag>annotation</tag>
      </tags>
  </entry>
  <entry>
    <title>Tomcatçš„ä¸‹è½½å’Œé…ç½®</title>
    <url>/2020/09/08/Tomcat%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%92%8C%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>åœ¨Linuxä¸Šå®‰è£…tomcatï¼Œå…¶å®è·Ÿwindowä¸€æ ·ï¼Œé…ç½®JDKã€é…ç½®ç¯å¢ƒå˜é‡ç­‰ç­‰ï¼Œåªä¸è¿‡é…ç½®è·¯å¾„å’Œæ–‡ä»¶åä¸åŒè€Œå·²ğŸ˜˜</p>
<a id="more"></a>
<hr>
<h3 id="ä¸‹è½½é…ç½®jdk">ä¸‹è½½é…ç½®jdk</h3>
<p>å¾ˆéš¾ï¼Œè¯•è¿‡ç”¨apt-get/aptä½¿ç”¨ppaæºå®‰è£…ï¼Œå¤±è´¥ï¼›ä½¿ç”¨ç³»ç»Ÿæ¨èçš„openjdkå®‰è£…ä¹Ÿå¤±è´¥ï¼›æœ€ååªèƒ½é‡‡ç”¨ä¸‹è½½binæ¥è§£å‹å®‰è£…ï¼Œæ‰èƒ½æˆåŠŸ</p>
<div class="note default">
            <h4 id="Note">Note:</h4><p>åœ¨oracleå®˜ç½‘ä¸‹è½½jdkæ—¶ï¼Œå¯ä»¥ç›´æ¥æœç´¢jdk archiveæ¥ä¸‹è½½ï¼Œä¸è¿‡éœ€è¦ç™»é™†oracleè´¦å·ï¼</p>
          </div>
<blockquote>
<p>å®‰è£…å¥½jdkéœ€è¦é…ç½®å¥½ç¯å¢ƒå˜é‡</p>
</blockquote>
<p>å¦‚æœåªæƒ³é…ç½®ç”¨æˆ·å˜é‡ï¼Œå°±åœ¨æ–‡ä»¶~/.bashrcä¸­</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/path/to/java</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³ç›´æ¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡é‚£ä¾¿æŠŠä¸Šé¢çš„è®¾ç½®æ·»åŠ åˆ°/etc/profileæ–‡ä»¶ä¸­</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æµ‹è¯•javaæ˜¯å¦å®‰è£…é…ç½®å®Œæˆ</span></span><br><span class="line"><span class="variable">$java</span> -version</span><br><span class="line">openjdk version <span class="string">&quot;1.8.0_252&quot;</span></span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_252-8u252-b09-1~16.04-b09)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)</span><br><span class="line"><span class="comment">#æœ‰ä¸Šé¢çš„æ–‡æ®µè¯æ˜å®‰è£…å®Œæˆ</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="ä¸‹è½½é…ç½®tomcat">ä¸‹è½½é…ç½®tomcat</h3>
<p>é…ç½®æ•™ç¨‹åœ¨<a href="https://blog.csdn.net/jenyzhang/article/details/70159769">è¿™é‡Œ</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">tar -xzvf apache-tomcat.xxx.tar.gz</span><br><span class="line"><span class="comment">#é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"><span class="comment">#tomcat</span></span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/path/to/tomcat </span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨tomcat</span></span><br><span class="line"><span class="built_in">cd</span> /path/to/tomcat</span><br><span class="line">./bin/startup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•tomcaté…ç½®æˆåŠŸä¸å¦,ç”¨æµè§ˆå™¨ç™»å½•ä¸‹çœ‹çœ‹</span></span><br><span class="line">http://localhost:8080</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé…ç½®å®‰è£…çš„tomcatè¿˜ä¸æ˜¯å¾ˆå®Œæ•´ï¼Œæ¯”å¦‚è¯´ï¼Œæ²¡æœ‰æœåŠ¡ï¼Œæ¯æ¬¡å¼€æœºéƒ½å»tomcatæ–‡ä»¶å¤¹å»æ‰¾ï¼Œå¾ˆéº»çƒ¦ï¼Œè€Œä¸”æœ‰äº›è½¯ä»¶éœ€è¦ä½¿ç”¨åˆ°systemctlæ¥å¯åŠ¨tomcatæœåŠ¡ï¼Œæ¯”å¦‚OpenElis</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/to/tomcatç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹startup.sh</span></span><br><span class="line"></span><br><span class="line">vim ./startup.sh</span><br><span class="line"><span class="comment">#æ·»åŠ å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">#set java environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/path/to/java</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#tomcat</span></span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/path/to/tomcat</span><br><span class="line"><span class="built_in">exec</span> <span class="string">&quot;<span class="variable">$PRGDIR</span>&quot;</span>/<span class="string">&quot;<span class="variable">$EXECUTABLE</span>&quot;</span> start <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨å†ŒtomcatæœåŠ¡</span></span><br><span class="line">sudo cp /path/to/tomcat/bin/catalina.sh /etc/init.d/tomcat</span><br><span class="line"><span class="comment">#ä¿®æ”¹catalina.sh</span></span><br><span class="line">vim catalina.sh</span><br><span class="line"><span class="comment">#æ·»åŠ å¦‚ä¸‹</span></span><br><span class="line">JAVA_HOME=/usr/lib/jvm/javaç›®å½•</span><br><span class="line">CATALINA_HOME=/path/to/tomcat</span><br><span class="line"></span><br><span class="line">åœ¨<span class="comment">#!/bash/shä¸‹æ–¹ç›´æ¥æ·»åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">### BEGIN INIT INFO</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Provides:          tomcat</span></span><br><span class="line"><span class="comment"># Required-Start:Â Â Â  $remote_fs $network</span></span><br><span class="line"><span class="comment"># Required-Stop:Â Â Â Â  $remote_fs $network</span></span><br><span class="line"><span class="comment"># Default-Start:Â Â Â Â  2 3 4 5</span></span><br><span class="line"><span class="comment"># Default-Stop:Â Â Â Â Â  0 1 6</span></span><br><span class="line"><span class="comment"># Short-Description: The tomcat Java Application Server</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### END INIT INFO</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡æ–°æ³¨å†ŒtomcatæœåŠ¡</span></span><br><span class="line">sudo update-rc.d tomcat defaults</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç°åœ¨å°±å¯ä»¥ä½¿ç”¨tomcatæœåŠ¡äº†</span></span><br><span class="line">sudo systemctl status tomcat </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu18.04è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</title>
    <url>/2020/09/08/Ubuntu18-04%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8/</url>
    <content><![CDATA[<div class="note info">
            <h4 id="Note1">Note1:</h4><p>ç”±äºæ–°ç‰ˆubuntuä¸å†ä½¿ç”¨<strong>initd</strong>ç®¡ç†ç³»ç»Ÿï¼Œè€Œæ”¹ç”¨<strong>systemd</strong>;</p><p>æ•…ç”¨systemctlå‘½ä»¤æ¥æ›¿æ¢äº†<strong>service</strong>å’Œ<strong>chkconfig</strong>çš„åŠŸèƒ½</p><p>ç³»ç»Ÿå¼€æœºå¯åŠ¨ï¼Œsystemdé»˜è®¤è¯»å–<code>/etc/systemd/system</code>ä¸‹çš„é…ç½®/è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šé“¾æ¥<code>lib/systemd/system/</code>ä¸‹çš„æ–‡ä»¶</p>
          </div>
<a id="more"></a>
<div class="note info">
            <h4 id="Note2">Note2:</h4><p>shçš„è„šæœ¬ï¼Œè„šæœ¬å¼€å¤´çš„#!+shellï¼Œè¿™é‡Œçš„shellä¸€èˆ¬æœ‰shå’Œbashï¼Œè€Œshå…¶å®æ˜¯â€˜bash --posixâ€™çš„å˜ä½“ï¼ŒäºŒè€…æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¹ˆçœ‹æ¥ï¼Œshå…¶å®æ˜¯bashçš„ä¸€ç§æ ‡å‡†ğŸ˜³</p>
          </div>
<h2 id="å¼€å§‹é…ç½®">å¼€å§‹é…ç½®</h2>
<blockquote>
<p>æˆ‘çš„è‡ªå®šä¹‰å¯åŠ¨æ–‡ä»¶æ˜¯rc-local.serviceï¼Œç›´æ¥ä¿®æ”¹å®ƒ</p>
</blockquote>
<h4 id="é…ç½®rc-local-service">é…ç½®rc-local.service</h4>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">  SPDX-License-Identifier: LGPL-2.1+</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  This file is part of systemd.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  systemd is free software; you can redistribute it and/or modify it</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  under the terms of the GNU Lesser General Public License as published by</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  the Free Software Foundation; either version 2.1 of the License, or</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  (at your option) any later version.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> This unit gets pulled automatically into multi-user.target by</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> systemd-rc-local-generator <span class="keyword">if</span> /etc/rc.local is executable.</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=/etc/rc.local Compatibility</span><br><span class="line">Documentation=man:systemd-rc-local-generator(8)</span><br><span class="line">ConditionFileIsExecutable=/etc/rc.local</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/etc/rc.local start</span><br><span class="line">TimeoutSec=0</span><br><span class="line">RemainAfterExit=yes</span><br><span class="line">GuessMainPID=no</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿™é‡Œæ˜¯éœ€è¦æ·»åŠ çš„éƒ¨åˆ†</span></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">Alias=rc-local.service</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸€èˆ¬æ­£å¸¸çš„å¯åŠ¨æ–‡ä»¶ä¸»è¦åˆ†æˆä¸‰éƒ¨åˆ†ğŸ’¦</p>
<p><em>[Unit]</em> æ®µ: <span class="label info">å¯åŠ¨é¡ºåºä¸ä¾èµ–å…³ç³»</span></p>
<p><em>[Service]</em> æ®µ: <span class="label warning">å¯åŠ¨è¡Œä¸º,å¦‚ä½•å¯åŠ¨,å¯åŠ¨ç±»å‹</span></p>
<p><em>[Install]</em> æ®µ: å®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå³<span class="label success">æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨</span></p>
<h4 id="é…ç½®rc-local">é…ç½®rc.local</h4>
<p>Ubuntu18.04é»˜è®¤æ²¡æœ‰<code>/etc/rc.local</code>è¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦è‡ªå·±åˆ›å»º</p>
<p>å¦‚ä¸‹ğŸ‘‡ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># !/bin/sh -e</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will &quot;exit 0&quot; on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;this just a test&quot;</span> &gt; /home/luoj/testdir/text.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="è®¾ç½®å¼€æœºè‡ªå¯åŠ¨">è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ·»åŠ å¯æ‰§è¡Œæƒé™</span></span><br><span class="line">sudo chmod +x /etc/rc.local</span><br><span class="line"><span class="comment">#æ·»åŠ rc-local.serviceè½¯è¿æ¥åˆ°/etc/systemd/system</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> rc-local</span><br><span class="line"><span class="comment">#å¯åŠ¨è¿™ä¸ªæœåŠ¡</span></span><br><span class="line">sudo systemctl start rc-local.service</span><br><span class="line"><span class="comment">#æŸ¥çœ‹è¿™ä¸ªæœåŠ¡</span></span><br><span class="line">sudo systemctl status rc-local.service</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>apt-getç”¨æ³•</title>
    <url>/2020/09/08/apt-get%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>apt-getæ˜¯ubuntuç­‰ç³»ç»Ÿç‹¬æœ‰çš„ä¸€ä¸ªè½¯ä»¶åŒ…å®‰è£…å·¥å…·ï¼Œaptå…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ï¼Œæˆ‘ä¹ æƒ¯ç”¨apt-getã€‚ä¸é€‚ç”¨äºcentoså“¦ï¼ğŸ’</p>
<a id="more"></a>
<h2 id="å‘½ä»¤ï¼š">å‘½ä»¤ï¼š</h2>
<blockquote>
<p>ä¸‹åˆ—æ˜¯apt-getçš„å‘½ä»¤é€‰é¡¹</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">update - å–å›æ›´æ–°çš„è½¯ä»¶åŒ…åˆ—è¡¨ä¿¡æ¯     **<span class="comment">#åªæ£€æŸ¥æ›´æ–°è½¯ä»¶åŒ…ï¼Œä¸æ›´æ–°è½¯ä»¶**</span></span><br><span class="line"></span><br><span class="line">upgrade - è¿›è¡Œä¸€æ¬¡å‡çº§   **<span class="comment">#çœŸæ­£çš„æ›´æ–°è½¯ä»¶**</span></span><br><span class="line"></span><br><span class="line">install - å®‰è£…æ–°çš„è½¯ä»¶åŒ…(æ³¨ï¼šè½¯ä»¶åŒ…åç§°æ˜¯ libc6 è€Œé libc6.deb)</span><br><span class="line"></span><br><span class="line">remove - å¸è½½è½¯ä»¶åŒ…</span><br><span class="line"></span><br><span class="line">autoremove - å¸è½½æ‰€æœ‰è‡ªåŠ¨å®‰è£…ä¸”ä¸å†ä½¿ç”¨çš„è½¯ä»¶åŒ…</span><br><span class="line"></span><br><span class="line">purge - å¸è½½å¹¶æ¸…é™¤è½¯ä»¶åŒ…çš„é…ç½®</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> - ä¸‹è½½æºç åŒ…æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">build-dep - ä¸ºæºç åŒ…é…ç½®æ‰€éœ€çš„ç¼–è¯‘ä¾èµ–å…³ç³»</span><br><span class="line"></span><br><span class="line">dist-upgrade - å‘å¸ƒç‰ˆå‡çº§ï¼Œè§ apt-get(8)</span><br><span class="line"></span><br><span class="line">dselect-upgrade - æ ¹æ® dselect çš„é€‰æ‹©æ¥è¿›è¡Œå‡çº§</span><br><span class="line"></span><br><span class="line">clean - åˆ é™¤æ‰€æœ‰å·²ä¸‹è½½çš„åŒ…æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">autoclean - åˆ é™¤å·²ä¸‹è½½çš„æ—§åŒ…æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">check - æ ¸å¯¹ä»¥ç¡®è®¤ç³»ç»Ÿçš„ä¾èµ–å…³ç³»çš„å®Œæ•´æ€§</span><br><span class="line"></span><br><span class="line">changelog - ä¸‹è½½æŒ‡å®šè½¯ä»¶åŒ…ï¼Œå¹¶æ˜¾ç¤ºå…¶changelog</span><br><span class="line"></span><br><span class="line">download - ä¸‹è½½æŒ‡å®šçš„äºŒè¿›åˆ¶åŒ…åˆ°å½“å‰ç›®å½•</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="é’ˆå¯¹apt-getå®‰è£…è½¯ä»¶å¤±è´¥ï¼Œç½‘é€Ÿæ…¢çš„é—®é¢˜">é’ˆå¯¹apt-getå®‰è£…è½¯ä»¶å¤±è´¥ï¼Œç½‘é€Ÿæ…¢çš„é—®é¢˜</h2>
<blockquote>
<p>å¯é€šè¿‡æ›´æ¢apt-geté•œåƒæºæ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¤‡ä»½åŸå§‹é•œåƒæº</span></span><br><span class="line"></span><br><span class="line">cp /etc/apt/source.list  /etc/apt/source.list.old</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ¢é•œåƒæºåœ°å€</span></span><br><span class="line"></span><br><span class="line">vim /etc/apt/source.list</span><br><span class="line"></span><br><span class="line">:%d            <span class="comment">#æ¸…ç©ºå†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤åˆ¶[æ¸…åé•œåƒæº](https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/)åˆ°/etc/apt/source.listæ–‡ä»¶ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ–°ä¸€ä¸‹é…ç½®</span></span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="apt-getå®‰è£…ç¨‹åºåŒ…å‡ºç°é—®é¢˜ï¼ˆå¸è½½ç³»ç»Ÿè‡ªå¸¦python3åå‡ºç°çš„é—®é¢˜ï¼‰">apt-getå®‰è£…ç¨‹åºåŒ…å‡ºç°é—®é¢˜ï¼ˆå¸è½½ç³»ç»Ÿè‡ªå¸¦python3åå‡ºç°çš„é—®é¢˜ï¼‰</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä»¥ä¸‹ä¸ºé”™è¯¯å†…å®¹ï¼Œå¯èƒ½æœ‰å¤šä¸ªæˆ–è‡³å°‘ä¸€ä¸ª</span></span><br><span class="line">xxx.postinst: xxx: not found</span><br><span class="line">dpkg: å¤„ç†è½¯ä»¶åŒ… xxx (--configure)æ—¶å‡ºé”™:</span><br><span class="line"> å­è¿›ç¨‹ å·²å®‰è£… post-installation è„šæœ¬ è¿”å›é”™è¯¯çŠ¶æ€ 127</span><br><span class="line">åœ¨å¤„ç†æ—¶æœ‰é”™è¯¯å‘ç”Ÿ:</span><br><span class="line">	xxx</span><br><span class="line">E:Sub-process /usr/bin/dpkg returned an error code (1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è§£å†³åŠæ³•ï¼š</span></span><br><span class="line">sudo mv /var/lib/dpkg/info /var/lib/dpkg/info_old</span><br><span class="line"></span><br><span class="line">sudo mkdir /var/lib/dpkg/info</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ–°è½¯ä»¶åŒ…å¹¶ä¿®å¤è½¯ä»¶çš„ä¾èµ–åŒ…</span></span><br><span class="line">sudo apt-get update &amp;&amp; sudo apt-get -f install</span><br><span class="line"></span><br><span class="line">sudo mv /var/lib/dpkg/info/* /var/lib/dpkg/info_old</span><br><span class="line"></span><br><span class="line">sudo rm -rf /var/lib/dpkg/info </span><br><span class="line"></span><br><span class="line">sudo mv /var/lib/dpkg/info_old /var/lib/dpkg/info</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡æ–°è¿›å…¥shell</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æœ€å¥½ä¸è¦å¸è½½ç³»ç»Ÿè‡ªå¸¦çš„pythonï¼Œæœ€å¤šå¸è½½ä½ ä¹‹å‰ä½¿ç”¨apt-getå®‰è£…çš„è½¯ä»¶ï¼Œä¸ç„¶å¯èƒ½ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é—®é¢˜ğŸ˜°</p>
</blockquote>
<h2 id="å¸è½½è½¯ä»¶-ç¨‹åº">å¸è½½è½¯ä»¶/ç¨‹åº</h2>
<blockquote>
<p>æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥ç”¨æ¥åˆ é™¤å…¶ä»–é€šè¿‡apt-getå®‰è£…çš„è½¯ä»¶ï¼</p>
</blockquote>
<h4 id="ç¤ºä¾‹ï¼šå®Œå…¨å¸è½½mariadb">ç¤ºä¾‹ï¼šå®Œå…¨å¸è½½mariadb</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¦–å…ˆå¸è½½mariadbå¹¶åˆ é™¤ç›¸å…³é…ç½®æ–‡ä»¶(datadirç›®å½•)</span></span><br><span class="line">sudo apt-get purge mariadb*</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ²¡ç”¨çš„ç›¸å…³ä¾èµ–åŒ…</span></span><br><span class="line">sudo apt-get automove </span><br><span class="line"></span><br><span class="line"><span class="comment">#éªŒè¯mariadbæœåŠ¡æ˜¯å¦è¿˜åœ¨</span></span><br><span class="line">sudo service mysql status</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœè¿˜æ˜¯ä¸èƒ½å¤Ÿåˆ é™¤!!!</span></span><br><span class="line"><span class="comment">#å°±ç›´æ¥åˆ°aptè½¯ä»¶åŒ…åˆ—è¡¨å»åˆ é™¤</span></span><br><span class="line">/var/lib/dpkg/info</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>Ubuntuåˆ›å»ºç”¨æˆ·</title>
    <url>/2020/09/09/Ubuntu%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>æ–°å»ºç”¨æˆ·ä¸ä»…ä»…æ˜¯æ–°å»ºä¸€ä¸ªç”¨æˆ·è€Œå·²ï¼Œè¿˜æœ‰å…¶å®¶ç›®å½•çš„è®¾ç½®å’Œç¯å¢ƒå˜é‡çš„è®¾ç½®ç­‰ç­‰ï¼Œæ‰€ä»¥æ–°å»ºç”¨æˆ·å¹¶æ²¡æœ‰æƒ³è±¡çš„é‚£ä¹ˆç®€å•ğŸ˜³</p>
<a id="more"></a>
<h2 id="æ–°å»ºç”¨æˆ·">æ–°å»ºç”¨æˆ·</h2>
<p>æœ‰<strong>useradd</strong>å’Œ<strong>adduser</strong>ä¸¤ç§æ–¹æ³•å“¦ğŸ™Š</p>
<blockquote>
<p>é‚£ä¹ˆå¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿæ ¹æ®ç³»ç»Ÿæ¥å’¯ç¡®å®šç³»ç»Ÿ</p>
</blockquote>
<p>å¦‚æœæ˜¯ubuntu(æˆ‘çš„å°±æ˜¯ğŸ˜),é‚£ä¹ˆuseraddå’Œadduseræ˜¯ä¸ä¸€æ ·çš„</p>
<p>adduserå¯ä»¥ä¸ºæ–°å»ºç”¨æˆ·è‡ªåŠ¨åˆ›å»ºè·Ÿç”¨æˆ·ååŒåçš„ç”¨æˆ·ç›®å½•ï¼Œç»„åï¼Œç³»ç»Ÿshellç‰ˆæœ¬ï¼ŒåŒæ—¶ä¼šæç¤ºè¾“å…¥å¯†ç ä¹‹ç±»çš„ã€‚</p>
<p>è€Œuseraddåœ¨åˆ›å»ºç”¨æˆ·æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œä¹Ÿä¸ä¼šè‡ªåŠ¨é€‰æ‹©shellç‰ˆæœ¬ï¼Œä¹Ÿæ²¡æœ‰è®¾ç½®å¯†ç ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨passwdå‘½ä»¤ä¿®æ”¹å¯†ç </p>
<blockquote>
<p>è€Œåœ¨å…¶ä»–ç³»ç»Ÿä¸Šè¿˜æ²¡è¯•éªŒè¿‡</p>
</blockquote>
<hr>
<h2 id="å·²å»ºç”¨æˆ·">å·²å»ºç”¨æˆ·</h2>
<p>å¦‚æœæ˜¯å·²å»ºç”¨æˆ·ï¼Œä½†æ˜¯ä½ ä¸¢å¤±äº†æŸäº›ä¸œè¥¿ï¼Ÿæ¯”å¦‚ä½ è¯¯åˆ äº†å®¶ç›®å½•ğŸ˜‚ï¼Œé‚£è¿˜éœ€è¦æ–°å»ºç”¨æˆ·å—ï¼Ÿ</p>
<p>æœ‰ä¸€æ¬¡å› ä¸ºå¤±è¯¯ï¼Œåˆ äº†å®¶ç›®å½•åŠå…¶å­ç›®å½•çš„æ‰€æœ‰æ•°æ®ğŸ‘»</p>
<p>é‚£å¦‚ä½•æ–°å»ºå®¶ç›®å½•å‘¢ã€‚</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cp <span class="regexp">/etc/</span>skec<span class="regexp">/* /</span>path<span class="regexp">/to/u</span>ser -A </span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™ä¸ªå‘½ä»¤çš„æ„ä¹‰å°±æ˜¯æŠŠshellç­‰ä¸€äº›é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°æˆ‘çš„ç”¨æˆ·ç›®å½•ä¸­</p>
</blockquote>
<hr>
<h2 id="é—®é¢˜">é—®é¢˜</h2>
<p>å¦‚æœåœ¨åˆ›å»ºç”¨æˆ·çš„æ—¶å€™æ²¡æœ‰è®¾ç½®ä¸»ç›®å½•å’Œshellï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢â”</p>
<p>æˆ‘æš‚æ—¶è¿˜ä¸çŸ¥é“ï¼Œç½‘ä¸Šæœä¸åˆ°è¿™ç§é—®é¢˜ğŸ˜</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>dockerç”¨æ³•</title>
    <url>/2020/09/08/docker%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p><img src="/assets/img/Docker-wallpaper.jpg" alt=""></p>
<a id="more"></a>
<h2 id="Dockerå¸¸ç”¨å‘½ä»¤">Dockerå¸¸ç”¨å‘½ä»¤</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ–°å»ºä¸€ä¸ªå®¹å™¨ï¼Œå¿…é¡»æŒ‡å®šé•œåƒæ¥åˆ›å»ºå®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker run    <span class="comment">#æ·»åŠ  -it  è¿è¡Œäº¤äº’æ¨¡å¼çš„å®¹å™¨  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-d ä»¥åå°æ¨¡å¼è¿è¡Œå®¹å™¨</span></span><br><span class="line"><span class="comment">#-P å°†æ‰€æœ‰çš„å…¬å¼€ç«¯å£æ˜ å°„åˆ°éšæœºç«¯å£ä¸Š</span></span><br><span class="line"><span class="comment">#-p å°†å®¹å™¨çš„ç«¯å£æ˜ å°„åˆ°ä¸»æœº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿›å…¥å®¹å™¨ï¼Œé€€å‡ºå®¹å™¨ä¼šå…³é—­å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker attach </span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨ç°æœ‰å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤çš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span>   <span class="comment">#-itdæ­¤æ—¶é€€å‡ºå®¹å™¨ï¼Œä¸ä¼šå…³é—­å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å·²ç»åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker ps     <span class="comment">#æ·»åŠ  -a  æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®dockerå®¹å™¨è‡ªå¯åŠ¨</span></span><br><span class="line"><span class="comment">#å¦‚æœè¿˜æ²¡æœ‰åˆ›å»ºå®¹å™¨</span></span><br><span class="line">docker run --restart=always --name=å®¹å™¨å</span><br><span class="line"><span class="comment">#å¦‚æœå·²ç»åˆ›å»ºäº†å®¹å™¨</span></span><br><span class="line">docker update --restart=always å®¹å™¨å</span><br></pre></td></tr></table></figure>
<blockquote>
<p>dockerå‘½ä»¤è¡Œ çš„é€‰é¡¹åˆ—è¡¨åœ¨<a href="https://docs.docker.com/engine/reference/commandline/run/#options">è¿™é‡Œ</a>ğŸ˜œ</p>
</blockquote>
<hr>
<h2 id="å…³äºdockerå ç”¨ç£ç›˜ç©ºé—´çš„æƒ…å†µ">å…³äºdockerå ç”¨ç£ç›˜ç©ºé—´çš„æƒ…å†µ</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹Dockerçš„ç£ç›˜ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">docker system df </span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸€èˆ¬æœ‰Imagesï¼ˆé•œåƒï¼‰ã€Containers(å®¹å™¨)ã€Local Volumes(æ•°æ®å·)</span></span><br><span class="line"><span class="comment">#é•œåƒæ˜¯ç”¨æ¥åœ¨å®¹å™¨ä¸­ç”Ÿæˆä¸€ä¸ªå®ä¾‹çš„ï¼Œå½“é‡æ–°ç”¨å®¹å™¨ç”Ÿæˆä¸€ä¸ªé•œåƒçš„æ—¶å€™ï¼Œå°±æ˜¯å¦ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä¹‹å‰çš„æ•°æ®éƒ½ä¼šæ²¡æœ‰äº†ï¼Œå› ä¸ºæ˜¯æ–°çš„å®ä¾‹å˜›ï¼Œè€Œä¹‹å‰çš„å®ä¾‹æ•°æ®å…¶å®æ˜¯å­˜æ”¾åœ¨æ•°æ®å·é‡Œé¢çš„ï¼</span></span><br><span class="line"><span class="comment">#æ•°æ®å·ä¹Ÿæ˜¯å®ç°æŒä¹…åŒ–çš„å…³é”®å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¸…ç†ç£ç›˜ç©ºé—´  ï¼ï¼ï¼æ…ç”¨</span></span><br><span class="line">docker system prune</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰‹åŠ¨æ¸…ç†Dockeré•œåƒ/å®¹å™¨/æ•°æ®å·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰å…³é—­çš„å®¹å™¨</span></span><br><span class="line">docker ps -a | grep Exit | cut -d <span class="string">&#x27; &#x27;</span> -f 1 | xargs docker rm</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰danglingé•œåƒï¼ˆå³æ— tagçš„é•œåƒï¼‰</span></span><br><span class="line">docker rmi $(docker images | grep <span class="string">&quot;^&lt;none&gt;&quot;</span> | awk <span class="string">&quot;&#123;print <span class="variable">$3</span>&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ‰€æœ‰danglingæ•°æ®å·ï¼ˆå³æ— ç”¨çš„Volumeï¼‰</span></span><br><span class="line">docker volume rm $(docker volume ls -qf dangling=<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>mysqlçš„ç”¨æ³•</title>
    <url>/2020/09/10/mysql%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<p><img src="/assets/img/640px-MySQL_logo.svg.png" alt=""></p>
<p>è¿™é‡Œçš„mysqlç”¨æ³•åˆ†linuxå’Œwindowä¸¤ä¸ªéƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿé‡‡é›†äº†ä¸€äº›æ“ä½œmysqlæ—¶é‡åˆ°çš„é—®é¢˜ï¼Œæ”¾åœ¨ç»“å°¾éƒ¨åˆ†ğŸ—‚</p>
<a id="more"></a>
<hr>
<h2 id="linuxä¸Šçš„mysql">linuxä¸Šçš„mysql</h2>
<h4 id="æ“ä½œmysqlæœåŠ¡ğŸ„">æ“ä½œmysqlæœåŠ¡ğŸ„</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹mysqlæœåŠ¡çš„çŠ¶æ€</span></span><br><span class="line">sudo service mysql status</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…³é—­mysqlæœåŠ¡</span></span><br><span class="line">sudo service mysql stop</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å¯mysqlæœåŠ¡</span></span><br><span class="line">sudo service mysql start </span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥æ‰¾mysqlæ–‡ä»¶ğŸŒ»">æŸ¥æ‰¾mysqlæ–‡ä»¶ğŸŒ»</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥è¯¢mysqlçš„å†…å®¹çš„åœ°å€(æ¯”è¾ƒè¯¦ç»†)</span></span><br><span class="line">find / -name mysql  </span><br><span class="line"><span class="comment">#ä¹Ÿå¯é€šè¿‡whereis(æ¯”è¾ƒç¬¼ç»Ÿ)</span></span><br><span class="line">whereis mysql</span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥çœ‹å®‰è£…åŒ…ğŸŒ¿">æŸ¥çœ‹å®‰è£…åŒ…ğŸŒ¿</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥è¯¢é€šè¿‡apt-getçš„å·²å®‰è£…çš„è½¯ä»¶</span></span><br><span class="line">sudo dpkg -l</span><br></pre></td></tr></table></figure>
<h4 id="æ•°æ®çš„å„ç§ç›®å½•è§£æğŸŒ±">æ•°æ®çš„å„ç§ç›®å½•è§£æğŸŒ±</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#mysqlçš„datadir,ç”¨äºå­˜å‚¨æ•°æ®</span></span><br><span class="line">/var/lib/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#mysqlçš„é…ç½®æ–‡ä»¶ç›®å½•</span></span><br><span class="line">/etc/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#mysqlæœåŠ¡çš„ç›®å½•ï¼Œå°±æ˜¯â€˜service mysql startâ€™ç­‰å‘½ä»¤çš„æ‰§è¡Œå¤„</span></span><br><span class="line">/etc/init.d/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…¶å®å¾ˆå¤šæ–‡ä»¶éƒ½åœ¨/usrç›®å½•ä¸­</span></span><br><span class="line"><span class="comment">#mysqlå‘½ä»¤ç›®å½•</span></span><br><span class="line">/usr/bin/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŠ¨æ€åº“</span></span><br><span class="line">/usr/lib/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¸®åŠ©æ–‡æ¡£</span></span><br><span class="line">/usr/share/mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="windowä¸Šçš„mysql">windowä¸Šçš„mysql</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¼€å¯æœåŠ¡</span></span><br><span class="line">net start mysql</span><br><span class="line"><span class="comment">#å…³é—­æœåŠ¡</span></span><br><span class="line">net stop mysql</span><br><span class="line">--------------------</span><br><span class="line">(éœ€è¦ç™»å½•åˆ°mysqlåæ‰ä½¿ç”¨)</span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ•°æ®åº“åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">status;</span><br><span class="line"><span class="comment">#æŸ¥çœ‹ç«¯å£å·</span></span><br><span class="line">show global variables like <span class="string">&#x27;port&#x27;</span>;  </span><br></pre></td></tr></table></figure>
<hr>
<h2 id="mysqlé—®é¢˜é›†">mysqlé—®é¢˜é›†</h2>
<h4 id="1-ç¨‹åºè¢«å ç”¨ï¼Ÿsock-lock-fileæ— æ³•ä¿®æ”¹ï¼Ÿ">1.ç¨‹åºè¢«å ç”¨ï¼Ÿsock lock fileæ— æ³•ä¿®æ”¹ï¼Ÿ</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">2020-03-27T06:51:55.089835Z 0 [ERROR] Another process with pid 5244 is using unix socket file.</span><br><span class="line">2020-03-27T06:51:55.089873Z 0 [ERROR] Unable to setup unix socket lock file.</span><br><span class="line">2020-03-27T06:51:55.089886Z 0 [ERROR] Aborting</span><br></pre></td></tr></table></figure>
<p><span class="ljspan ljspan-red">è§£å†³åŠæ³•</span>:</p>
<p>â€‹	1ï¸âƒ£ï¼šå…³é—­mysqlæœåŠ¡<br>
â€‹	2ï¸âƒ£ï¼šåˆ°/var/run/mysqld/ç›®å½•ä¸­ï¼Œæ‰¾åˆ°mysqld.sock.lockæ–‡ä»¶,é‡å‘½åæˆ–è€…å¤‡ä»½ååˆ é™¤åŸæ–‡ä»¶<br>
â€‹	3ï¸âƒ£ï¼šé‡æ–°å¯åŠ¨mysqlæœåŠ¡å³å¯</p>
<h4 id="2-ç»‘å®šIP-ç«¯å£æƒé™é™åˆ¶">2.ç»‘å®šIP/ç«¯å£æƒé™é™åˆ¶</h4>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">2020-03-26T06:52:46.063437Z 0 [ERROR] Can<span class="string">&#x27;t start server: Bind on TCP/IP port: Permission denied</span></span><br><span class="line"><span class="string">2020-03-26T06:52:46.063462Z 0 [ERROR] Do you already have another mysqld server running on port: 3306 ?</span></span><br><span class="line"><span class="string">2020-03-26T06:52:46.063487Z 0 [ERROR] Aborting</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>é‡åˆ°è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ç«¯å£å ç”¨é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸»æœºIPçš„è®¾ç½®é—®é¢˜</p>
</blockquote>
<p>æƒ…å†µä¸€ï¼š</p>
<p>æˆ‘æ— æ³•é€šè¿‡sshæ–¹å¼è¿œç¨‹ç™»å½•mysqlï¼Œä½†ä½¿ç”¨localhostæœ¬æœºï¼Œå°±å¯ä»¥ç™»é™†äº†ï¼Œè¿™ä¸ªå°±æ˜¯IPé—®é¢˜å•¦ğŸ“</p>
<p>å¯é€šè¿‡ä¿®æ”¹mysqlé…ç½®æ–‡ä»¶è§£å†³ï¼Œå¯èƒ½æ˜¯<span class="label danger">my.cnf</span>æ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯<span class="label warning">mysqld.cnf</span>ç­‰ç­‰ï¼Œåæ­£çœ‹åˆ°æœ‰é…ç½®<span class="label info">datadir</span>å’Œ<span class="label info">socket</span>ç­‰å­—çœ¼çš„æ–‡ä»¶å°±æ˜¯äº†</p>
<p>è¿›å…¥<span class="label danger">my.cnf</span>ç„¶åå¦‚æœçœ‹åˆ°<code>bind-address   = 127.0.0.1</code>ï¼Œå°±æ³¨é”€æ‰ï¼Œè¿™æ ·å°±å¯ä»¥è¿œç¨‹å¼€å¯mysqlæœåŠ¡äº†</p>
<p>æƒ…å†µäºŒï¼š<br>
ç”±äºç«¯å£3306è¢«å ç”¨ï¼Œæ‰€ä»¥å¼€å¯ä¸äº†ï¼killæ‰å ç”¨è¿™ä¸ªç«¯å£çš„è¿›ç¨‹å°±è¡Œäº†</p>
<h4 id="3-mysqlå­—ç¬¦æ ¼å¼å¯¼è‡´æ— æ³•å¯¼å‡ºæ•°æ®">3.mysqlå­—ç¬¦æ ¼å¼å¯¼è‡´æ— æ³•å¯¼å‡ºæ•°æ®</h4>
<p>æƒ³ä½¿ç”¨workbench<span class="label success">å¯¼å‡ºæ•°æ®åº“è¡¨ä¸ºsqlè„šæœ¬</span>ï¼Œç„¶åå¯¼å…¥åˆ°å…¶ä»–ç³»ç»Ÿä¸­å»<br>
ä½†æ˜¯åœ¨ä½¿ç”¨sqlè„šæœ¬ç›´æ¥å¯¼å…¥åˆ°linuxä¸­çš„mysqlæ•°æ®åº“ä¸­ï¼Œä½†æ˜¯ä¸€ç›´æŠ¥é”™ï¼Œå¦‚ä¸‹ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ERROR 1273 (HY000): Unknown collation: <span class="string">&#x27;utf8mb4_0900_ai_ci&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾æ˜¯å­—ç¬¦é”™è¯¯çš„é—®é¢˜ï¼ˆæ’åºè§„åˆ™ï¼‰ï¼Œæ‰€ä»¥æˆ‘æ”¹äº†æ•°æ®åº“çš„æ’åºè§„åˆ™ï¼Œä½†æ˜¯ä¸è¡ŒğŸ˜µ</p>
<p>ç‚¹å¼€æ¯ä¸ªæ•°æ®åº“è¡¨ï¼Œå‘ç°å®ƒçš„æ’åºè§„åˆ™ä¹Ÿä¸åŒï¼Œæ¥ç€ä¿®æ”¹ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œå¾ˆå¥‡æ€ªğŸ‘´</p>
<p>åé¢å‘ç°æ¯ä¸ªcolumnçš„æ’åºè§„åˆ™ä¹Ÿè¦ä¿®æ”¹ï¼ŒğŸ¢ğŸ¢ï¼Œåšå®Œè¿™ä¸€æ­¥ï¼Œæ‰èƒ½å®ç°å¯¼å…¥æˆåŠŸ</p>
<blockquote>
<p>sqlè„šæœ¬è®°å½•çš„æ˜¯è¡¨æ•°æ®ï¼Œå¹¶ä¸æ˜¯æ•´ä¸ªæ•°æ®åº“ï¼Œæ‰€ä»¥ä¸€èˆ¬éœ€è¦æ–°å»º</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥æ•°æ®åº“</span></span><br><span class="line">mysql -u username -p password</span><br><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥æ•°æ®åº“ï¼ˆæ²¡æœ‰éœ€è¦æ–°å»ºï¼‰</span></span><br><span class="line">use database;</span><br><span class="line"><span class="meta">#</span><span class="bash">è·‘sqlè„šæœ¬</span></span><br><span class="line">source /path/to/xxx.sql</span><br></pre></td></tr></table></figure>
<h4 id="4-å¤šä¸ªæ•°æ®åº“æ··åˆä½¿ç”¨åŒä¸€ä¸ªé…ç½®æ–‡ä»¶">4.å¤šä¸ªæ•°æ®åº“æ··åˆä½¿ç”¨åŒä¸€ä¸ªé…ç½®æ–‡ä»¶</h4>
<p>ä½¿ç”¨<span class="ljspan ljspan-blue">sqlyog</span>ç™»å½•æ•°æ®åº“ä¸€ç›´å¤±è´¥,ä½†æ˜¯ä½¿ç”¨cmdç™»å½•mysqlå´æˆåŠŸäº†ğŸ™‡<br>
ç„¶åæˆ‘å°±è¿›å…¥mysqlä¸­æŸ¥çœ‹æ•°æ®åº“çš„ç‰ˆæœ¬ä¿¡æ¯å’Œç«¯å£å·çš„ä¿¡æ¯,å‘ç°ç‰ˆæœ¬å¯¹äº†ï¼Œä½†æ˜¯ç«¯å£é”™äº†ï¼Œä¿®æ”¹ç«¯å£é‡å¯ï¼Œä½†æ˜¯ç«¯å£è¿˜æ˜¯æ²¡æœ‰å˜ï¼(âŠ™oâŠ™)ï¼Ÿâ€¦é˜¿è¿™â€¦<br>
æ‰¾åˆ°é—®é¢˜äº†ï¼ŒåŸæ¥å› ä¸ºæˆ‘<span class="label danger">ä¸‹è½½å®‰è£…äº†å¤šä¸ªæ•°æ®åº“</span>åˆæ²¡æœ‰é…ç½®æ¸…æ¥šï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘ç™»å½•çš„æ•°æ®åº“ä½¿ç”¨åˆ°çš„æ˜¯å…¶ä»–æ•°æ®åº“çš„é…ç½®æ–‡ä»¶my.iniï¼Œè¿™å°±å¯¼è‡´äº†ä¹‹å‰çš„ä¿®æ”¹ç«¯å£æ— æ•ˆã€‚</p>
<p>é—®é¢˜æ‰¾åˆ°äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ‰§è¡Œæ–‡ä»¶çš„é»˜è®¤è¯»å–é…ç½®æ–‡ä»¶è·¯å¾„æ€ä¹ˆæ”¹å‘¢ï¼Ÿâ€¦(âŠ™ï¹âŠ™)</p>
<blockquote>
<p>é€šè¿‡ä¸Šç½‘å¯çŸ¥ï¼Œå¯é€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨æ¥è®¾ç½®ã€‚</p>
</blockquote>
<p>æ‰“å¼€<code>æ³¨å†Œè¡¨ç¼–è¾‘å™¨</code>â€“<code>HKEY_LOCAL_MACHINE</code>â€“<code>SYSTEM</code>â€“<code>CurrentControlSet</code>â€“<code>Services</code>(åˆ°è¿™ä¸€æ­¥å¯ä»¥çœ‹åˆ°æ•°æ®åº“åç§°)ï¼Œä¹‹å‰æˆ‘å°±æ˜¯é€šè¿‡åœ¨è¿™é‡Œä¿®æ”¹<code>DisplayName</code>/<code>ImagePath</code>æ¥åŒºåˆ†ä¸åŒçš„æ•°æ®åº“æœåŠ¡çš„ã€‚ç°åœ¨å¯é€šè¿‡ä¿®æ”¹<code>ImagePath</code>ï¼Œåœ¨é‡Œé¢çš„æ‰§è¡Œæ–‡ä»¶åæ·»åŠ <br>
â€“defaults-file=â€œpath\to\your mysql file\my.iniâ€ï¼ˆè¿™æ˜¯æˆ‘åœ¨mysql8.0çš„æœåŠ¡ä¸­çœ‹åˆ°çš„:happy:ï¼‰<br>
è¿™æ ·å°±å¯ä»¥å•¦</p>
<h4 id="5-è¯¯ç”¨å…¶ä»–æ•°æ®åº“é…ç½®å¯¼è‡´æ— æ³•è¯»å–æ•°æ®">5.è¯¯ç”¨å…¶ä»–æ•°æ®åº“é…ç½®å¯¼è‡´æ— æ³•è¯»å–æ•°æ®</h4>
<p>ç”±äºä¸Šä¸€ä¸ªé—®é¢˜å¯¼è‡´äº†è¿™ä¸€ä¸ªé—®é¢˜(+_+)?</p>
<div class="note info">
            <p>åœ¨linuxä¸Šå¯ä»¥é€šè¿‡æ—¥å¿—ç›®å½•ç›´æ¥æŸ¥çœ‹æ—¥å¿—ï¼›é‚£windowsä¸Šçš„æ—¥å¿—æ–‡ä»¶åº”è¯¥ä¹Ÿæœ‰å§ï¼Œæ²¡æœ‰æ—¥å¿—ç›®å½•ï¼Œä½†æ˜¯åœ¨dataæ–‡ä»¶ä¸­ï¼Œå…¶å®æœ‰å…³äºæ•°æ®åº“å¢åˆ æ”¹æŸ¥çš„ç¼“å­˜å’Œé”™è¯¯ä¿¡æ¯çš„æ—¥å¿—ï¼Œæ‰€ä»¥å¦‚æœæ•°æ®åº“æ— æ³•è¿æ¥ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰¾é”™è¯¯æ—¥å¿—æ–‡ä»¶</p>
          </div>
<p>è¿™æ¬¡çš„é—®é¢˜æ˜¯å› ä¸ºä¹‹å‰mysql8.0ä½¿ç”¨mysql5.7çš„é…ç½®æ–‡ä»¶my.iniï¼Œè€Œmysql5.7çš„<span class="label info">æ•°æ®é…ç½®</span>éƒ½æ˜¯åœ¨my.iniä¸­çš„ï¼Œæ‰€ä»¥å¯¼è‡´ä¹‹å‰<span class="label warning">mysql5.7æ“ä½œæ•°æ®åº“</span>ä½¿ç”¨çš„æ˜¯<span class="label danger">mysql8.0çš„å¼•æ“</span>ï¼Œè€Œç°åœ¨æ¢æˆmysql.5.7å¼•æ“äº†,è‡ªç„¶å†…éƒ¨çš„ç¼“å­˜æ•°æ®æ–‡ä»¶æ— æ³•æ“ä½œã€‚</p>
<p><span class="ljspan ljspan-red">è§£å†³æ–¹æ³•</span><br>
1.ç›´æ¥é‡è£…æ•°æ®åº“ï¼ˆå¦‚æœé‡Œé¢æ²¡æœ‰é‡è¦æ•°æ®ï¼‰<br>
2.åˆ æ‰æ‰€æœ‰æ•°æ®æ–‡ä»¶åé‡å¯æ•°æ®åº“<br>
3.é€šè¿‡æŸ¥çœ‹é”™è¯¯æ—¥å¿—æ–‡ä»¶ï¼Œå®˜æ–¹æ¨èæ˜¯ä½¿ç”¨<a href="https://dev.mysql.com/doc/refman/5.7/en/forcing-innodb-recovery.html">å¼ºåˆ¶æ¢å¤æ¨¡å¼</a>æ¥æ¢å¤æ•°æ®</p>
<h4 id="6-mysqlåˆå§‹åŒ–å¤±è´¥">6.mysqlåˆå§‹åŒ–å¤±è´¥</h4>
<p>æƒ³åœ¨ç”µè„‘ä¸Šå®‰è£…mysql5.7ï¼Œä¹‹å‰å·²ç»åœ¨æˆ‘çš„ç”µè„‘ä¸Šè£…äº†ä¸¤ä¸ªmysql8ï¼Œä¸€ä¸ªæ˜¯æºç å®‰è£…ï¼Œä¸€ä¸ªæ˜¯å®‰è£…å™¨å®‰è£…</p>
<p>è¿™ä¸€æ¬¡æˆ‘ä¹Ÿæƒ³é€šè¿‡æºç å®‰è£…ï¼ŒmysqlæœåŠ¡å®‰è£…å€’æ˜¯æ²¡é—®é¢˜ï¼Œä½†æ˜¯mysqlåˆå§‹åŒ–ä¸€ç›´å¤±è´¥ï¼Œä¸çŸ¥é“ä¸ºä½•ğŸ™‰</p>
<p>é€šè¿‡ä¸€äº›è››ä¸é©¬è¿¹ï¼Œæˆ‘å‘ç°ï¼Œæ¯æ¬¡åˆå§‹åŒ–ï¼Œæˆ‘çš„å¦ä¸€ä¸ªmsyqlçš„dataæ–‡ä»¶å¤¹æœ‰æ›´æ–°ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰åŠ¨å®ƒå‘€ï¼(ï¿£ â€˜i ï¿£;)</p>
<p>æŸ¥çœ‹æ—¥å¿—ï¼Œå‘ç°é”™è¯¯å¦‚ä¸‹ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[Warning] <span class="string">&#x27;NO_ZERO_DATE&#x27;</span>, <span class="string">&#x27;NO_ZERO_IN_DATE&#x27;</span> and <span class="string">&#x27;ERROR_FOR_DIVISION_BY_ZERO&#x27;</span> sql modes should be used with strict mode. They will be merged with strict mode <span class="keyword">in</span> a future release.</span><br><span class="line">[Warning] <span class="string">&#x27;NO_AUTO_CREATE_USER&#x27;</span> sql mode was not <span class="built_in">set</span>.</span><br><span class="line">[Error] initialize specified but the data directory has files <span class="keyword">in</span> it. Aborting</span><br></pre></td></tr></table></figure>
<p>æˆ‘è¿˜æ²¡åˆå§‹åŒ–ï¼Œæˆ‘çš„mysql5.7ç›®å½•ä¸‹ï¼Œå¹¶æ²¡æœ‰dataæ–‡ä»¶å¤¹ï¼Œä¸ºä½•ä¼šè¯´æˆ‘æœ‰ï¼Ÿ</p>
<p>éš¾é“æ¯æ¬¡åˆå§‹åŒ–éƒ½å»mysql8æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾â”(âŠ™oâŠ™)â”</p>
<p>æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘è§‰å¾—åº”è¯¥å°±æ˜¯<span class="label success">ç¯å¢ƒå˜é‡</span>çš„é—®é¢˜äº†ï¼Œæ‰€ä»¥æˆ‘ä¿®æ”¹mysqlçš„ç¯å¢ƒå˜é‡ä¸ºmysql5.7çš„ï¼Œé‡æ–°æ‰§è¡Œå¦‚ä¸‹å°±å¯ä»¥äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å¯ä»¥åˆå§‹åŒ–äº†</span><br><span class="line">mysql --initialize  </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxå‰åå°çš„å‘½ä»¤</title>
    <url>/2020/09/08/linux%E5%89%8D%E5%90%8E%E5%8F%B0%E7%9A%84%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<p>1.åŠ åœ¨ä¸€ä¸ªå‘½ä»¤çš„æœ€åï¼Œå¯ä»¥æŠŠè¿™ä¸ªå‘½ä»¤æ”¾åˆ°<span class="label primary">åå°æ‰§è¡Œ</span>ï¼š<strong>&amp;</strong></p>
<blockquote>
<p>eg: <code>sh run.sh &amp;</code></p>
</blockquote>
<a id="more"></a>
<p>2.å¯ä»¥å°†ä¸€ä¸ªæ­£åœ¨å‰å°æ‰§è¡Œçš„<span class="label danger">å‘½ä»¤æ”¾åˆ°åå°ï¼Œå¹¶å¤„äºæš‚åœçŠ¶æ€</span>ï¼š<strong>ctrl+z</strong></p>
<p>3.<span class="label danger">æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘ç¨‹åºåœ¨åå°è¿è¡Œ</span>çš„å‘½ä»¤ï¼š<strong>jobs</strong></p>
<p><code>jobs -l</code>é€‰é¡¹å¯æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡çš„PIDï¼Œjobsçš„çŠ¶æ€å¯ä»¥æ˜¯running, stopped, Terminatedã€‚ä½†æ˜¯å¦‚æœä»»åŠ¡è¢«ç»ˆæ­¢äº†ï¼ˆkillï¼‰ï¼Œshell ä»å½“å‰çš„shellç¯å¢ƒå·²çŸ¥çš„åˆ—è¡¨ä¸­åˆ é™¤ä»»åŠ¡çš„è¿›ç¨‹æ ‡è¯†</p>
<p>4.å°†<span class="label danger">åå°çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œ</span>ï¼š<strong>fg</strong></p>
<blockquote>
<p>egï¼š<code>fg %jobsnumber</code></p>
</blockquote>
<p>5.<span class="label danger">å°†åå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆåœ¨åå°ç»§ç»­æ‰§è¡Œ</span>ï¼š<strong>bg</strong></p>
<blockquote>
<p>egï¼š<code>bg %jobsnumber</code></p>
</blockquote>
<p>6.<span class="label danger">æ€æ­»è¿›ç¨‹</span>ï¼š<strong>kill</strong></p>
<p>æ³•å­1ï¼šé€šè¿‡jobså‘½ä»¤æŸ¥çœ‹jobå·ï¼ˆå‡è®¾ä¸ºnumï¼‰ï¼Œç„¶åæ‰§è¡Œ<code>kill %num</code><br>
æ³•å­2ï¼šé€šè¿‡pså‘½ä»¤æŸ¥çœ‹jobçš„è¿›ç¨‹å·ï¼ˆPIDï¼Œå‡è®¾ä¸ºpidï¼‰ï¼Œç„¶åæ‰§è¡Œ<code>kill pid</code></p>
<p>7.<span class="label danger">å‰å°è¿›ç¨‹çš„ç»ˆæ­¢</span>ï¼š<strong>Ctrl+c</strong></p>
<p>8.<span class="label warning">è®©ç¨‹åº/è¿›ç¨‹åœ¨åå°è¿›è¡Œï¼Œå³ä½¿å…³é—­ç»ˆç«¯ä¹Ÿåœ¨æ‰§è¡Œ</span>ï¼š<strong>nohup</strong></p>
<p>å¦‚æœè®©ç¨‹åºå§‹ç»ˆåœ¨åå°æ‰§è¡Œï¼Œå³ä½¿å…³é—­å½“å‰çš„ç»ˆç«¯ä¹Ÿæ‰§è¡Œï¼ˆä¹‹å‰çš„&amp;åšä¸åˆ°ï¼‰ï¼Œè¿™æ—¶å€™éœ€è¦nohupã€‚è¯¥å‘½ä»¤å¯ä»¥åœ¨ä½ é€€å‡ºå¸æˆ·/å…³é—­ç»ˆç«¯ä¹‹åç»§ç»­è¿è¡Œç›¸åº”çš„è¿›ç¨‹ã€‚å…³é—­ä¸­æ–­åï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯jobså·²ç»æ— æ³•çœ‹åˆ°åå°è·‘å¾—ç¨‹åºäº†ï¼Œæ­¤æ—¶åˆ©ç”¨psï¼ˆè¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ï¼‰</p>
<blockquote>
<p>#åœ¨åå°è¿è¡Œçš„nohupå‘½ä»¤<br>
egï¼š<code>nohup xxx &amp;</code></p>
</blockquote>
<p>9.<span class="label success">è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤</span>ï¼š<strong>ps</strong></p>
<p>#æŸ¥çœ‹æ‰§è¡Œçš„test.shå‘½ä»¤</p>
<blockquote>
<p>ps -aux | grep â€œ<a href="http://test.sh">test.sh</a>â€</p>
</blockquote>
<p>#æŸ¥çœ‹tomcatè¿›ç¨‹</p>
<blockquote>
<p>ps -aux |grep tomcat</p>
</blockquote>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">a:</span>æ˜¾ç¤ºæ‰€æœ‰ç¨‹åº </span><br><span class="line"><span class="symbol">u:</span>ä»¥ç”¨æˆ·ä¸ºä¸»çš„æ ¼å¼æ¥æ˜¾ç¤º </span><br><span class="line"><span class="symbol">x:</span>æ˜¾ç¤ºæ‰€æœ‰ç¨‹åºï¼Œä¸ä»¥ç»ˆç«¯æœºæ¥åŒºåˆ†</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/09/08/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Test">Test</h2>
<h3 id="Span">Span</h3>
<p><span class="ljspan ljspan-reverse">ç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„è‹Ÿä¸”</span></p>
<h3 id="Blockquotes">Blockquotes</h3>
<!-- Center quote -->
<blockquote class="blockquote-center">
            <p>Something</p>

          </blockquote>
<!-- Tag Alias -->
<blockquote class="blockquote-center">
            <p>Something</p>

          </blockquote>
<h3 id="Label">Label</h3>
<p>Lorem <span class="label default">ipsum</span> <span class="label primary">dolor sit</span> amet, consectetur <span class="label success">adipiscing elit,</span> sed <span class="label info">do eiusmod</span> tempor incididunt ut labore et dolore magna aliqua.</p>
<p>Ut enim <em><span class="label warning">ad</span></em> minim veniam, quis <strong><span class="label danger">nostrud</span></strong> exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
<p>Duis aute irure dolor in reprehenderit in voluptate <s><span class="label default">velit</span></s> <mark>esse</mark> cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<h3 id="Label-Test">Label Test</h3>
<span class="label info">[æ•™ç¨‹]([https://vuepress.mirror.docker-practice.com/install/mirror.html#ubuntu-16-04-%E3%80%81debian-8-%E3%80%81centos-7](https://vuepress.mirror.docker-practice.com/install/mirror.html#ubuntu-16-04-ã€debian-8-ã€centos-7))</span>
<p><strong><span class="label default">&</span></strong></p>
<blockquote>
<p>This ğŸ˜„ğŸ˜­ is your very first post.</p>
</blockquote>
<h3 id="Span-2">Span</h3>
<p><span class="ljspan ljspan-reverse ljspan-red"><a href="https://hexo.io/">äººç”Ÿæœ‰æ¢¦ï¼Œå„è‡ªç²¾å½©ï¼</a></span></p>
<p><span class="ljspan ljspan-red"><a href="https://hexo.io/">äººç”Ÿæœ‰æ¢¦ï¼Œå„è‡ªç²¾å½©ï¼</a></span><br>
<span class="ljspan ljspan-reverse ljspan-yellow"><a href="https://hexo.io/">æ°´èƒ½è½½èˆŸï¼Œäº¦èƒ½è¦†èˆŸï¼</a></span></p>
<p><span class="ljspan ljspan-yellow"><a href="https://hexo.io/">æ°´èƒ½è½½èˆŸï¼Œäº¦èƒ½è¦†èˆŸï¼</a></span></p>
<h3 id="List">List</h3>
<ul>
<li>æˆ‘æ˜¯â­ï¸èœå¾å¤</li>
<li>æˆ‘æ˜¯èœå¾å½¬</li>
<li>æˆ‘æ˜¯èœå¾é‘«</li>
</ul>
<h3 id="Url">Url</h3>
<p>&lt; <a href="http://www.baidu.com">www.baidu.com</a> &gt;</p>
<h3 id="image">image</h3>
<p><img src="/assets/img/wallhaven-p869pm_1920x1080.png" alt="fantasy food"></p>
<h3 id="Code-Blocks">Code Blocks</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$æˆ‘æ˜¯èœå¾å¤ä¹‹é‘«æ€»ç‰›æ‰¹</span><br></pre></td></tr></table></figure>
<h2 id="Quick-Start">Quick Start</h2>
<h3 id="Create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<!-- more  -->
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<!-- more  -->
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<!-- more  -->
]]></content>
  </entry>
  <entry>
    <title>resolv.conf</title>
    <url>/2020/09/09/resolv-conf/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>resolv.confæ˜¯ä»€ä¹ˆå‘¢â”ï¼Œå…‰çœ‹åå­—ä¸æ‡‚ï¼ğŸ’«å…¶å®ä»–å°±æ˜¯ä¸€ä¸ªDNSå®¢æˆ·æœºé…ç½®æ–‡ä»¶ï¼Œç”¨äºè®¾ç½®DNSæœåŠ¡å™¨çš„IPåœ°å€ä»¥åŠDNSåŸŸå</p>
<a id="more"></a>
<h2 id="resolv-confæ–‡ä»¶è§£æ">resolv.confæ–‡ä»¶è§£æ</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">nameserver    *//å®šä¹‰DNSæœåŠ¡å™¨çš„IPåœ°å€* </span><br><span class="line">domain       *//å®šä¹‰æœ¬åœ°åŸŸå* </span><br><span class="line">search        *//å®šä¹‰åŸŸåçš„æœç´¢åˆ—è¡¨* </span><br><span class="line">sortlist        *//å¯¹è¿”å›çš„åŸŸåè¿›è¡Œæ’åº*</span><br></pre></td></tr></table></figure>
<blockquote>
<p>nameserverå‚æ•°å¿…é¡»æœ‰ğŸ˜€ï¼Œå…¶ä»–ä¸ºå¯é€‰</p>
</blockquote>
<hr>
<h2 id="resolv-confç”±ä¸‰ç§æ–¹å¼æ§åˆ¶">resolv.confç”±ä¸‰ç§æ–¹å¼æ§åˆ¶</h2>
<p>1.network manager</p>
<p>2.resolvconf</p>
<p>3.systemd-resolved</p>
<hr>
<h2 id="å…³äºé¿å…åœ¨-etc-resolv-confä¸­ä½¿ç”¨namespace127-0-0-53">å…³äºé¿å…åœ¨/etc/resolv.confä¸­ä½¿ç”¨namespace127.0.0.53</h2>
<p>è¿™ä¸ªé—®é¢˜åœ¨<span class="ljspan ljspan-reverse ljspan-blue"><a href="/2020/09/08/%E5%AE%89%E8%A3%85elabFTW/">å®‰è£…elabFTW</a></span>æ—¶å‡ºç°è¿‡ï¼Œå› ä¸ºelabftwæ˜¯é‡‡ç”¨dockerå®‰è£…çš„ï¼Œå®‰è£…æ—¶ï¼Œç”¨åˆ°ä¸¤ä¸ªå®¹å™¨ï¼Œåˆ†åˆ«æ˜¯elabftw_webå’Œmysqlå®¹å™¨ï¼Œä½†æ˜¯ä¸¤ä¸ªå®¹å™¨ä¸€ç›´æ— æ³•è¿æ¥ï¼Œä¸€ç›´æŠ¥æ²¡æœ‰å®‰è£…mysqlå®¹å™¨ï¼Œæœ€åé€šè¿‡<span class="ljspan ljspan-blue"><a href="https://github.com/elabftw/elabftw/issues/1881">githubæé—®</a></span>,ä½œè€…å‘Šè¯‰äº†æˆ‘é—®é¢˜çš„åŸå› å°±æ˜¯è¿™ä¸ªï¼Œæä¾›çš„è§£å†³åŠæ³•å†ä¸Šé¢çš„æ–‡ç« ä¸Šï¼Œæœ€åæˆ‘æ˜¯æ”¹ç”¨networkmanageræ¥ç®¡ç†,æ‰è§£å†³è¯¥é—®é¢˜</p>
<blockquote>
<p>å…³äºè¿™ä¸ªé—®é¢˜çš„è¯¦ç»†å™è¿°æ–‡ç« åœ¨<a href="https://www.hiroom2.com/2017/08/24/ubuntu-1610-nameserver-127-0-0-53-en/">è¿™é‡Œ</a></p>
</blockquote>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‹è½½å·¥å…·Aria2</title>
    <url>/2020/05/28/%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7Aria2/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>ä¸€èˆ¬çš„ä¸‹è½½å·¥å…·éƒ½è¦ä¸‹è½½è½¯ä»¶ï¼Œæ¯æ¬¡è¦ä¸‹è½½ä¸œè¥¿ï¼Œéƒ½éœ€è¦å…ˆæ‰“å¼€å®ƒï¼Œåƒè¿…é›·è¿˜æœ‰ä¸€å †å¹¿å‘Šå’Œæ’ä»¶ğŸ˜¤ã€‚Aria2å¯ä»¥ç›´æ¥é€šè¿‡ç½‘é¡µä¸‹è½½ï¼Œé€Ÿåº¦å¾ˆå¿«å“¦ï¼Œå®Œå…¨æ²¡æœ‰å…¶ä»–æ’ä»¶å’Œå¹¿å‘Šï¼Œä¸è¿‡æš‚ä¸æ”¯æŒå¤–ç½‘èµ„æºï¼Œåæ­£æˆ‘çš„æ˜¯è¿™æ ·ğŸ’©</p>
<a id="more"></a>
<hr>
<h2 id="åŠŸèƒ½">åŠŸèƒ½</h2>
<ul>
<li>æ”¯æŒå¤šç§æ ¼å¼ï¼š<strong>http/https</strong>, <strong>magnet</strong>(ç£åŠ›é“¾æ¥), <strong>BTç§å­</strong>ğŸ‘€</li>
<li>å°è€Œç®€å•ï¼šåªæœ‰2Mçš„å¤§å°</li>
<li>ä½¿ç”¨æµè§ˆå™¨æ˜¾ç¤ºä¸‹è½½ç•Œé¢</li>
</ul>
<h3 id="ä¸‹è½½åœ°å€"><a href="https://github.com/aria2/aria2">ä¸‹è½½åœ°å€</a></h3>
<hr>
<h2 id="ä»‹ç»">ä»‹ç»</h2>
<p>ç”±äº<span class="ljspan ljspan-reverse"><a href="https://github.com/aria2/aria2">Aria2</a></span>æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œçš„å·¥å…·ï¼Œå¯ç”¨äºå¤šç§ç³»ç»Ÿï¼ŒåŒ…æ‹¬<strong>Linuxç³»ç»Ÿ</strong>ï¼Œæ‰€ä»¥ï¼Œå¯¹äºå›¾å½¢åŒ–ç•Œé¢çš„<strong>Windows</strong>ç”¨æˆ·æ¥è¯´ã€‚çŸ­æ—¶é—´éš¾ä»¥æ“ä½œ</p>
<p>æ•…æœ‰è®¸å¤šHackeræä¾›äº†æ’ä»¶ï¼Œé€šè¿‡ç®€ä¾¿çš„è®¾ç½®ä¹‹åå°±å¯ä»¥é€šè¿‡å›¾å½¢åŒ–ç•Œé¢ä¸‹è½½å•¦ï¼</p>
<h3 id="æ’ä»¶ä¸‹è½½-é…ç½®åœ°å€ï¼š">æ’ä»¶ä¸‹è½½/é…ç½®åœ°å€ï¼š</h3>
<p>æ’ä»¶1:<a href="http://aria2c.com/usage.html">æœ‰åº”ç”¨ç¨‹åºçš„å·¥å…·(åŒ…æ‹¬é…ç½®è¯´æ˜æ–‡æ¡£)</a>;</p>
<p>æ’ä»¶2:å¯åœ¨åå°è¿è¡Œçš„å·¥å…·<br>
(é“¾æ¥: <a href="https://pan.baidu.com/s/13QBieprXBuYOfZ9PmlTBAQ">https://pan.baidu.com/s/13QBieprXBuYOfZ9PmlTBAQ</a> æå–ç : skct)ï¼›</p>
<hr>
<h2 id="â­ï¸ç®€å•çš„æŒ‡å¯¼ï¼š">â­ï¸ç®€å•çš„æŒ‡å¯¼ï¼š</h2>
<p>é€šè¿‡ä¸Šé¢çš„ä¸‹è½½åœ°å€ï¼Œä¸‹è½½å®Œæˆåï¼Œè§£å‹æ–‡ä»¶åˆ°ä½ è¦çš„ç›®å½•ä¸­ï¼Œç„¶åä¸‹è½½ä»»ä¸€ä¸€æ¬¾<strong>æ’ä»¶</strong>ï¼Œè§£å‹åæ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œä¸‹å›¾æ˜¯<strong>æ’ä»¶1</strong>çš„è®¾ç½®å†…å®¹ï¼Œ</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/assets/img/image-20200528112413587.png" alt="é…ç½®ç›®å½•"></p>
<p>å¯¹äº<strong>å›¾ä¸­é€‰ä¸­çš„éƒ¨åˆ†</strong>å°±æ˜¯<a href="https://github.com/aria2/aria2">ä¸‹è½½åœ°å€</a>ä¸‹è½½çš„éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†ä¸»è¦éœ€è¦æ›¿ä»£<strong>æ’ä»¶</strong>ä¸­çš„<span class="ljspan ljspan-reverse">aria2c</span>è¿™ä¸ªä¸œè¥¿ï¼Œå…¶ä»–çš„å¯ä»¥å¿½ç•¥</p>
<p>é…ç½®æ–‡ä»¶(ä»¥**.conf**ä¸ºåç¼€)å¯ä»¥è®¾ç½®ä½ æ‰€éœ€è¦çš„å„é¡¹é…ç½®ï¼ˆè¿™é‡Œå°±æ˜¯çœç•¥äº†ä½ åœ¨å‘½ä»¤è¡Œä¸€ä¸ªä¸€ä¸ªçš„è®¾ç½®ï¼‰</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">#å¯åŠ¨aria2</span></span><br><span class="line">ç‚¹å‡»aria2å¯åŠ¨.VBS</span><br><span class="line"><span class="section">#å…³é—­aria2</span></span><br><span class="line">ç‚¹å‡»aria2å…³é—­.bat</span><br><span class="line"><span class="section">#è®¾ç½®å¿«æ·æ–¹å¼</span></span><br><span class="line">æ’ä»¶ä¸€ï¼šæŠŠaria2.exe(ä¸æ˜¯aria2c.exe)è®¾ç½®ä¸ºå¿«æ·æ–¹å¼</span><br><span class="line">æ’ä»¶äºŒï¼šæŠŠaria2å¯åŠ¨.VBSè®¾ç½®ä¸ºå¿«æ·æ–¹å¼</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä¸‹è½½å†…å®¹çš„webç«¯<a href="http://aria2c.com/"><strong>aria2c.com</strong></a>ï¼Œç›´æ¥å†æµè§ˆå™¨è¾“å…¥å°±å¯ä»¥äº†ï¼</p>
<hr>
<p>æœ¬æ–‡ç« ç›¸å…³çš„å‚è€ƒæ–‡æ¡£ï¼š</p>
<p>ã€Š<a href="https://www.appinn.com/aria2-in-windows-setup/">æ’ä»¶ä¸€çš„ç›¸å…³æ–‡æ¡£</a>ã€‹</p>
<p>ã€Š<a href="https://zhuanlan.zhihu.com/p/30666881">æ’ä»¶äºŒçš„ç›¸å…³æ–‡æ¡£</a>ã€‹</p>
<p>ã€Š<a href="https://zhuanlan.zhihu.com/p/21831960">é…ç½®çš„ç›¸å…³æ–‡æ¡£</a>ã€‹</p>
]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡çº§Hexoå’Œä½¿ç”¨å¤‡ä»½é…ç½®æ–‡ä»¶</title>
    <url>/2020/09/04/%E5%8D%87%E7%BA%A7Hexo%E5%92%8C%E4%BD%BF%E7%94%A8%E5%A4%87%E4%BB%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="å‡çº§">å‡çº§</h2>
<p>æƒ³ä½¿ç”¨&quot;å¤‡ä»½é…ç½®æ–‡ä»¶(Alternate Theme Config)&quot;æ¥é…ç½®NexTä¸»é¢˜çš„å‚æ•°ï¼Œä¸ºäº†ä»¥åå‡çº§è¯¥ä¸»é¢˜ï¼Œé¿å…å†²çªï¼Œæ‰€ä»¥æ‰“ç®—ä½¿ç”¨å®˜æ–¹æ–‡æ¡£æ¨èçš„<a href="https://hexo.io/docs/configuration.html#Using-an-Alternate-Config">Alternate Theme Config</a>,é€šè¿‡è¿™ä»½æ–‡æ¡£åˆå¯çŸ¥ï¼Œä½¿ç”¨Alternate Theme Configéœ€è¦ä½¿ç”¨Hexo 5.0ç‰ˆæœ¬ï¼Œé¾Ÿé¾ŸğŸ¢ğŸ¢ï¼Œé‚£å°±åªèƒ½æ›´æ–°äº†ğŸ˜­ã€‚</p>
<a id="more"></a>
<p>å®˜æ–¹æ–‡æ¡£è²Œä¼¼æ²¡æœ‰ï¼Œé‚£å°±åªèƒ½ç½‘ä¸Šæœäº†ã€‚ç”±äºæˆ‘æ²¡æœ‰ä»€ä¹ˆé—®ä»·æ”¾åœ¨ä¸ªäººåšå®¢ä¸Šï¼Œå°±å‡ ç¯‡æŒ‡å¯¼æ–‡ä»¶ï¼Œä¸”ç”µè„‘ç«¯ä¹Ÿæœ‰å­˜æ¡£ï¼Œæ‰€ä»¥â€¦â€‹.â€‹.â€‹.ğŸ˜</p>
<p>æˆ‘å°±å¯ä»¥å¤§åˆ€é˜”æ–§åœ°æäº†ğŸ’©</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å…¶å®å¾ˆç®€å•</span></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å½“å‰hexoç‰ˆæœ¬</span></span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line"><span class="comment">#Step1:è¿›å…¥ä½ çš„hexoæ ¹ç›®å½•</span></span><br><span class="line"><span class="comment">#æ‰¾åˆ°package.jsonæ–‡ä»¶ï¼Œä¿®æ”¹è¯¥ç‰ˆæœ¬å·</span></span><br><span class="line">- <span class="string">&quot;hexo&quot;</span>: <span class="string">&quot;^4.2.0&quot;</span></span><br><span class="line">+ <span class="string">&quot;hexo&quot;</span>: <span class="string">&quot;^5.0.0&quot;</span></span><br><span class="line"><span class="comment">#ä¿å­˜é€€å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Step2:ä½¿ç”¨npmå‡çº§</span></span><br><span class="line">npm upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment">#Step3:å¦‚æœæç¤ºæœ‰ä¾èµ–éœ€è¦ä¿®å¤ï¼ŒæŒ‰æç¤ºä¿®å¤ï¼Œä¸€èˆ¬ä¸º</span></span><br><span class="line">npm audit fix</span><br><span class="line"></span><br><span class="line"><span class="comment">#Step4ï¼šå¦‚æœæœ‰å…³äºé…ç½®æ–‡ä»¶è­¦å‘Šä¹‹ç±»çš„ï¼Œè®°å¾—ä¿®æ”¹</span></span><br><span class="line">WARN  Deprecated config detected: <span class="string">&quot;use_date_for_updated&quot;</span> is deprecated, please use <span class="string">&quot;updated_option&quot;</span> instead. See https://hexo.io/docs/configuration <span class="keyword">for</span> more details.</span><br><span class="line"><span class="comment">#åƒä¸Šé¢çš„è­¦å‘Šå°±æ˜¯è¯´é…ç½®_config.ymlæ–‡ä»¶ä¸­&quot;use_date_for_updated&quot;å·²ç»è¢«åºŸå¼ƒï¼Œæ”¹ç”¨&quot;updated_option&quot;æ¥é…ç½®ï¼Œä¿®æ”¹åä¿å­˜å°±å¯ä»¥äº†ã€‚å¯ä»¥é€šè¿‡https://hexo.io/docs/configurationäº†è§£è¯¦æƒ…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†æ¬¡æ£€æŸ¥hexoç‰ˆæœ¬</span></span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤ç¼“å­˜</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="comment">#ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶å¼€å¯æœ¬åœ°æœåŠ¡</span></span><br><span class="line">hexo g &amp;&amp; hexo s</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="ä½¿ç”¨å¤‡ä»½é…ç½®æ–‡ä»¶">ä½¿ç”¨å¤‡ä»½é…ç½®æ–‡ä»¶</h2>
<p><span class="ljspan ljspan-blue"><a href="https://hexo.io/docs/configuration.html#Using-an-Alternate-Config">Hexoå®˜æ–¹æ–‡æ¡£</a></span>å’Œ<span class="ljspan ljspan-black"><a href="https://hexo.io/docs/configuration.html#Using-an-Alternate-Config">NexTå®˜æ–¹æ–‡æ¡£</a></span>å†™å¾—å¾ˆæ¸…æ¥š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åœ¨æ ¹ç›®å½•_config.ymlç»“å°¾ä¸­å¡«å†™ä¸»é¢˜é…ç½®å‚æ•°</span></span><br><span class="line">+ theme_config:</span><br><span class="line"><span class="comment">#æŠŠtheme config fileæ–‡ä»¶æ‰€æœ‰å†…å®¹éƒ½å¤åˆ¶åˆ°theme_configä¸‹æ–¹ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯ä»¥äº†ï¼Œso easy!</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Attentionâ€‹!ğŸ“¢</strong>:Hexoç”Ÿæˆå’Œéƒ¨ç½²çš„æ—¶å€™è®°å¾—ä¹ŸåŠ ä¸Š<code>--config xxx</code>å“¦ï¼Œä¸ç„¶åé¢çš„é—®é¢˜è®©ä½ å¤´ç–¼ğŸ˜µï¼</p>
</blockquote>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†åŒºä¸æŒ‚è½½</title>
    <url>/2020/09/09/%E5%88%86%E5%8C%BA%E4%B8%8E%E6%8C%82%E8%BD%BD/</url>
    <content><![CDATA[<h2 id="åˆ†åŒº">åˆ†åŒº</h2>
<p>æŸ¥çœ‹<span class="label danger">åˆ†åŒºä¸æŒ‚è½½</span>æƒ…å†µï¼šdf -h</p>
<p>æŸ¥çœ‹<span class="label info">å½“å‰ç›®å½•ä¸‹ä¸€çº§å­æ–‡ä»¶å’Œå­ç›®å½•å ç”¨çš„ç£ç›˜å®¹é‡</span>ï¼šdu -lh --max-depth=1</p>
<a id="more"></a>
<p>æŸ¥çœ‹<span class="label warning">ç£ç›˜çš„åˆ†åŒº</span>æƒ…å†µï¼šsudo fdisk -l</p>
<ul>
<li>disk: å°±æ˜¯åˆ†åŒº</li>
<li>device: å°±æ˜¯ä¸€äº›åˆ†åŒºå¥½äº†çš„ç£ç›˜è®¾å¤‡</li>
</ul>
<span class="label info">æŒ‚è½½</span>å’Œ<span class="label info">å¸è½½</span>åˆ†åŒºï¼šmount/umount
<blockquote>
<p>æŒ‚è½½æˆåŠŸä»¥åï¼Œéœ€è¦æŠŠæŒ‚è½½ä¿¡æ¯å†™åœ¨/etc/fstabä¸Šæ‰èƒ½åœ¨æ¯æ¬¡å¼€æœºåï¼Œè‡ªåŠ¨æŒ‚è½½åˆ†åŒº</p>
</blockquote>
<p>mountè¿˜å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿå„åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿâ•</p>
<hr>
<h3 id="ç¤ºä¾‹ï¼š">ç¤ºä¾‹ï¼š</h3>
<p>æƒ³æŠŠ<code>dev/sdb</code>è¿™ä¸ªç£ç›˜åˆ†åŒºğŸ’©</p>
<p><code>fdisk /dev/sdb</code>è¿›å…¥ä»¥åå°±å¯ä»¥åˆ†åŒºäº†</p>
<p>âœ¨<span class="label success">fdisk</span>åŠŸèƒ½å¯æ˜¯å¾ˆå¼ºå¤§çš„å“¦ğŸ‘€</p>
<p>åˆ†äº†ä¸¤ä¸ªä¸»ç›˜sdb1å’Œsdb2</p>
<p>åˆ†åŒºå¥½äº†ä»¥åï¼Œå‘ç°æ— æ³•ç»™è¿™äº›åˆ†åŒºæ ¼å¼åŒ–æ–‡ä»¶ç³»ç»ŸğŸ˜©</p>
<p>è°ƒæŸ¥ä¹‹åï¼Œå‘ç°æ˜¯å› ä¸º<code>/dev/sdb1</code> æ­£è¢«ç³»ç»Ÿä½¿ç”¨ï¼Œåªèƒ½å–æ¶ˆå»ºç«‹æ–‡ä»¶ç³»ç»Ÿ ï¼</p>
<p>åŸæ¥ä¹‹å‰çš„/dev/sdbæ˜¯æŒ‚è½½åœ¨data1ä¸Šçš„ï¼Œç°åœ¨è¢«åˆ†åŒºäº†ï¼Œå°±ä¸èƒ½å†æŒ‚è½½äº†ğŸ’¨</p>
<p>å¸è½½ådata1åï¼Œå°±å¯ä»¥è®¾ç½®æ–‡ä»¶ç³»ç»Ÿäº†</p>
<p>ç°åœ¨ï¼Œå°±å¯ä»¥æŠŠ/dev/sdb1æŒ‚è½½åˆ°/homeä¸Šå•¦ğŸ™‚</p>
<hr>
<h3 id="åˆ†åŒºæˆ–è€…è¯´æ˜¯æŸä¸ªæŒ‚è½½ç›®å½•æ‰©å®¹">åˆ†åŒºæˆ–è€…è¯´æ˜¯æŸä¸ªæŒ‚è½½ç›®å½•æ‰©å®¹</h3>
<p>å› ä¸ºæ²¡æœ‰ä¹‹å‰çš„ç£ç›˜æ²¡æœ‰ä½¿ç”¨é€»è¾‘ç›˜ç¬¦æ¥è®¾ç½®ï¼Œæ‰€ä»¥æ²¡åŠæ³•ä½¿ç”¨<span class="label primary">é€»è¾‘å·</span>æ¥æ‰©å®¹</p>
<p>åªèƒ½åˆ é™¤åŸæœ‰ç£ç›˜çš„æ•°æ®æˆ–è€…è¿ç§»æ•°æ®åˆ°æ–°ç£ç›˜ä¸Šäº†ï¼Œæˆ‘æ²¡æœ‰ç»™æ—§ç£ç›˜æ‰©å®¹äº†ï¼Œæ€•åˆå‡ºé”™ã€‚</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>å¤„ç†Jsonæ ¼å¼æ•°æ®</title>
    <url>/2020/09/04/%E5%A4%84%E7%90%86Json%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>å‰å°é¡µé¢é€šå¸¸éƒ½ä¼šé€šè¿‡<code>Ajax</code>æ¥è·å–åå°çš„æ•°æ®ï¼ŒæŸäº›æ¥å£ä¼ è¾“æ•°æ®ä¹Ÿéƒ½æ˜¯ä»¥<code>Json</code>æ ¼å¼æ¥ä¼ è¾“ï¼Œæ•…å¤„ç†<code>Json</code>æ ¼å¼æ•°æ®è¾¹å¾—å¾ˆé‡è¦é¸­ğŸ¦†</p>
<a id="more"></a>
<h2 id="å¤„ç†Jsonæ ¼å¼æ•°æ®">å¤„ç†Jsonæ ¼å¼æ•°æ®</h2>
<p>åœ¨å¾®ä¿¡è¿”å›çš„æ¶ˆæ¯ä¸­ï¼Œæœ‰äº›æ˜¯ä»¥jsonæ•°æ®åŒ…çš„æ ¼å¼å‘ˆç°çš„ğŸ‘‡</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;access_token&quot;</span>:<span class="string">&quot;ACCESS_TOKEN&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;expires_in&quot;</span>:<span class="number">7200</span>,</span><br><span class="line">  <span class="attr">&quot;refresh_token&quot;</span>:<span class="string">&quot;REFRESH_TOKEN&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;openid&quot;</span>:<span class="string">&quot;OPENID&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scope&quot;</span>:<span class="string">&quot;SCOPE&quot;</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£å¦‚ä½•å–å‡ºè¿™é‡Œé¢çš„ä¿¡æ¯å‘¢ã€‚é‚£å°±éœ€è¦ç”¨åˆ°<span class="ljspan ljspan-reverse ljspan-red"><a href="https://github.com/alibaba/fastjson">fastjson</a></span>å•¦!ğŸ„</p>
<p>ä¸€èˆ¬ä»ç½‘ç»œğŸŒä¸Šè·å–/ä¼ è¾“çš„<code>jsonæ•°æ®åŒ…</code>ï¼Œéƒ½æ˜¯<span class="ljspan ljspan-red">jsonå­—ç¬¦ä¸²</span>ï¼Œå¦‚æœéœ€è¦å–å‡ºæ¥ï¼Œéœ€è¦æŠŠå®ƒè½¬åŒ–ä¸º<span class="ljspan ljspan-red">jsonå¯¹è±¡</span>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//jsonå­—ç¬¦ä¸²è½¬jsonå¯¹è±¡</span></span><br><span class="line">String result = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;2323&quot;,&quot;sex&quot;:&quot;afasdf&quot;,&quot;age&quot;:&quot;6262&quot;&#125;&#x27;</span>;</span><br><span class="line">JSONObject jsonObject =JSON.parseObject(result);</span><br><span class="line"><span class="comment">//è¿™æ ·å°±å¯ä»¥ä»jsonå¯¹è±¡jsonobjectä¸­è·å–åˆ°ä½ æ‰€éœ€è¦çš„ä¿¡æ¯äº†	  </span></span><br><span class="line">String name = jsonObject.getString(<span class="string">&quot;name&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœè¦ä¼ è¾“<code>jsonæ•°æ®åŒ…</code>â€‹â€‹ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯å…ˆç¼–å†™å¥½<span class="ljspan ljspan-red">jsonå¯¹è±¡</span>åï¼Œè½¬åŒ–ä¸º<span class="ljspan ljspan-red">jsonå¯¹è±¡</span>åä¼ è¾“â€‹ã€‚ğŸŒµ</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     <span class="attr">&quot;button&quot;</span>:[</span><br><span class="line">     &#123;	</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;view&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;æˆ‘çš„æŠ¥å‘Š&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;url&quot;</span>:<span class="string">&quot;/path/to/Report&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;	</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;click&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;æˆ‘çš„ç¤¾åŒº&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>:<span class="string">&quot;V1001_COMMUNITY&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;	</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;click&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;ä¸ªäººä¸­å¿ƒ&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>:<span class="string">&quot;V1001_TODAY_MUSIC&quot;</span></span><br><span class="line">       &#125;]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>ğŸ‘‡ä¸‹é¢ä»£ç è¿™æ˜¯å¯¹ä¸Šé¢â˜ï¸çš„å®ç°å“¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å°è£…jsonå¯¹è±¡</span></span><br><span class="line">JSONObject jsonObject = <span class="keyword">new</span> JSONObject();</span><br><span class="line">JSONArray jsonArray = <span class="keyword">new</span> JSONArray();</span><br><span class="line">JSONObject jsonObject1 = <span class="keyword">new</span> JSONObject();</span><br><span class="line">jsonObject1.put(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;view&quot;</span>);</span><br><span class="line">jsonObject1.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;æˆ‘çš„æŠ¥å‘Š&quot;</span>);</span><br><span class="line">jsonObject1.put(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;/path/to/Report&quot;</span>);</span><br><span class="line">JSONObject jsonObject2 = <span class="keyword">new</span> JSONObject();</span><br><span class="line">jsonObject2.put(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;click&quot;</span>);</span><br><span class="line">jsonObject2.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;æˆ‘çš„ç¤¾åŒº&quot;</span>);</span><br><span class="line">jsonObject2.put(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;V1001_COMMUNITY&quot;</span>);</span><br><span class="line">JSONObject jsonObject3 = <span class="keyword">new</span> JSONObject();</span><br><span class="line">jsonObject3.put(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;click&quot;</span>);</span><br><span class="line">jsonObject3.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;ä¸ªäººä¸­å¿ƒ&quot;</span>);</span><br><span class="line">jsonObject3.put(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;V1001_TODAY_MUSIC&quot;</span>);</span><br><span class="line">jsonArray.add(jsonObject1);</span><br><span class="line">jsonArray.add(jsonObject2);</span><br><span class="line">jsonArray.add(jsonObject3);</span><br><span class="line">jsonObject.put(<span class="string">&quot;button&quot;</span>,jsonArray);</span><br><span class="line"><span class="comment">//è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="line">String jsonString = jsonObject.toJSONString();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨eclipseæç¤ºåŠŸèƒ½ï¼Œå¯ä»¥çœ‹åˆ°è®¸å¤š<code>jsonObject</code>å’Œ<code>JSON</code>çš„æ–¹æ³•ï¼</p>
</blockquote>
<hr>
<h2 id="è‡ªåŠ¨è½¬åŒ–jsonæ•°æ®">è‡ªåŠ¨è½¬åŒ–jsonæ•°æ®</h2>
<p>åå°æœåŠ¡å¯ä»¥è‡ªåŠ¨è½¬åŒ–æŸç±»å¯¹è±¡ä¸ºjsonæ ¼å¼åˆ°å‰å°é¡µé¢ï¼Œå‰ç«¯é¡µé¢å¯ç›´æ¥å–ç”¨ï¼Œä½ è¯´ç¥ä¸ç¥å¥‡ğŸ¸,å®ƒä¸€èˆ¬ç»“åˆ<code>@ResponseBody</code>ä¸€èµ·ä½¿ç”¨</p>
<p>å®ƒå°±æ˜¯<span class="ljspan ljspan-yellow"><a href="https://github.com/FasterXML/jackson-databind">jackson databind</a></span>ï¼Œè²Œä¼¼ä¸Šæ–‡æåˆ°çš„<span class="ljspan ljspan-red">fastjson</span>ä¹Ÿå¯ä»¥å®ç°(ä¸è¿‡ï¼Œè¿˜éœ€è¦å…¶ä»–é…ç½®)ï¼Œä½†æ˜¯<span class="ljspan ljspan-yellow">jackson databind</span>åªéœ€è¦å¼•å…¥ä¾èµ–åŒ…å°±è¡Œäº†ğŸ™‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼•å…¥ä¾èµ–åŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span> </span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Json</tag>
        <tag>æ•°æ®å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤„ç†XMLæ•°æ®</title>
    <url>/2020/09/04/%E5%A4%84%E7%90%86XML%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>è§£æ<code>XML</code>æ•°æ®ï¼Œæ„Ÿè§‰å¾ˆéš¾ï¼Œæ— ä»ä¸‹æ‰‹ğŸ™Šï¼Œå…¶å®æ˜¯å› ä¸ºè§£æ<code>XML</code>çš„<a href="https://www.cnblogs.com/c-xiaohai/p/6796116.html">æ–¹æ³•</a>å¤ªå¤šäº†ï¼Œæ„Ÿè§‰éƒ½å·®ä¸å¤šï¼Œæ··åˆåœ¨ä¸€å—ï¼Œåˆ†ä¸æ¸…äº†ğŸ˜µå°±çœ‹ä¸æ‡‚äº†ã€‚</p>
<a id="more"></a>
<h2 id="è§£æxml">è§£æxml</h2>
<p>æˆ‘é‡‡ç”¨çš„æ˜¯<code>dom4</code>çš„<a href="http://www.51gjie.com/java/739.html">æ–¹æ³•</a>è§£æ<code>XML</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SAXReader saxReader = <span class="keyword">new</span> SAXReader();</span><br><span class="line">Document document = saxReader.read(<span class="keyword">new</span> File(<span class="string">&quot;students.xml&quot;</span>));</span><br><span class="line"><span class="comment">// è·å–æ ¹å…ƒç´ </span></span><br><span class="line">Element root = document.getRootElement();</span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰å­å…ƒç´ </span></span><br><span class="line">List&lt;Element&gt; childList = root.elements();</span><br><span class="line"><span class="comment">// æŠŠxmlä¿¡æ¯è½¬åŒ–ä¸ºhashmap</span></span><br><span class="line">HashMap&lt;String,String&gt; hashMap = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line"><span class="keyword">for</span> (Element element : elementsList) &#123;</span><br><span class="line">    hashMap.put(element.getName(), element.getText());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="åºåˆ—åŒ–-ååºåˆ—åŒ–xml">åºåˆ—åŒ–/ååºåˆ—åŒ–xml</h2>
<ol>
<li>åˆ›å»º<code>XStream</code> å¯¹è±¡</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">XStream xstream = <span class="keyword">new</span> XStream(<span class="keyword">new</span> StaxDriver());</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>åºåˆ—åŒ–å¯¹è±¡åˆ°<code>XML</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Object to XML Conversion</span></span><br><span class="line">String xml = xstream.toXML(student);</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ååºåˆ—åŒ–<code>XML</code>è·å¾—å¯¹è±¡ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// XML to Object Conversion</span></span><br><span class="line">Student student1 = (Student) xstream.fromXML(xml)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é‡Œç”Ÿæˆçš„XMLæ˜¯åŒ…å«<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</code>å‰ç¼€çš„xmlæ–‡æœ¬</p>
</blockquote>
<hr>
<h2 id="å¾®ä¿¡çš„XMLæ ¼å¼"><em>å¾®ä¿¡çš„XMLæ ¼å¼</em></h2>
<p>å¾®ä¿¡çš„<code>XML</code>å›å¤ä¿¡æ¯ï¼ŒæŸäº›æ–‡æœ¬éœ€è¦æ·»åŠ <code>&lt;![CDATA['text']]</code>ï¼Œç½‘å‹æä¾›çš„æ–¹æ³•å¦‚ä¸‹ï¼Œä½†æ˜¯æˆ‘è¿˜çœ‹ä¸æ‡‚å•ŠğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰xmlå¯¹è±¡æ ¼å¼</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> XStream xStream = <span class="keyword">new</span> XStream(<span class="keyword">new</span> XppDriver() &#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> HierarchicalStreamWriter <span class="title">createWriter</span><span class="params">(Writer out)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> PrettyPrintWriter(out) &#123;</span><br><span class="line">			<span class="keyword">boolean</span> cdata = <span class="keyword">true</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startNode</span><span class="params">(String name, Class clazz)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">super</span>.startNode(name, clazz);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">writeText</span><span class="params">(QuickWriter writer,String text)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(cdata) &#123;</span><br><span class="line">					writer.write(<span class="string">&quot;&lt;![CDATA[&quot;</span>);</span><br><span class="line">					writer.write(text);</span><br><span class="line">					writer.write(<span class="string">&quot;]]&gt;&quot;</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">					writer.write(text);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;	</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>æ•°æ®å¤„ç†</tag>
        <tag>XML</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…ERPNext</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85ERPNext/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>ç”±äºæˆ‘çš„æœåŠ¡å™¨å†…å­˜ä¸å¤Ÿç”¨äº†ï¼Œä¸”ä¸ºäº†é˜²æ­¢è½¯ä»¶å¤ªå¤šï¼Œç¯å¢ƒå¤ªå¤æ‚å¯¹æ–°å®‰è£…è½¯ä»¶çš„å½±å“ï¼Œæ‰€ä»¥æˆ‘é‡‡ç”¨è™šæ‹Ÿæœºçš„æ–¹å¼å®‰è£…<span class="ljspan ljspan-reverse ljspan-blue"><a href="https://github.com/frappe/erpnext">ERPNext</a></span></p>
<a id="more"></a>
<p><strong>ä½¿ç”¨è™šæ‹Ÿæœºçš„å¥½å¤„ğŸ’…</strong></p>
<ul>
<li>æ¯”è¾ƒç®€å•</li>
</ul>
<p>ç›´æ¥åˆ°<a href="https://github.com/frappe/erpnext">å®˜ç½‘ä¸‹è½½</a>è™šæ‹Ÿæœºçš„é•œåƒæ–‡ä»¶å</p>
<p>ä½¿ç”¨è™šæ‹Ÿæœºåˆ©ç”¨è¿™ä¸ªé•œåƒå®‰è£…è¿™ä¸ªç³»ç»Ÿ!</p>
<p>ç„¶åå¯åŠ¨è™šæ‹Ÿæœº</p>
<p>ç™»å½•ç½‘å€ä¸ºï¼š<a href="http://localhost:8080">http://localhost:8080</a></p>
<hr>
<h2 id="é—®é¢˜">é—®é¢˜</h2>
<p>ä½†æ˜¯æ¯æ¬¡é‡å¯ï¼Œæ•°æ®åº“éƒ½æŠ¥é”™äº†ï¼</p>
<p><a href="https://openwritings.net/pg/mariadb/mariadb-start-mysqld-tc-heuristic-recover-switch">è¿™é‡Œ</a>æœ‰è§£å†³åŠæ³•ğŸ‘´</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é€šè¿‡ ~/frappe-bench/logs/web.error.log</span></span><br><span class="line"><span class="comment">#å¯çŸ¥æ•°æ®åº“å‡ºé”™äº†</span></span><br><span class="line"></span><br><span class="line">OperationalError: (2003, <span class="string">&quot;Can&#x27;t connect to MySQL server on u&#x27;localhost&#x27; ([Errno 111] Connection refused)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å…·ä½“çš„é”™è¯¯è®°è½½åœ¨è¿™é‡Œ</span></span><br><span class="line"><span class="comment">#~/frappe-bench/logs/bench.log	</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è§£å†³åŠæ³•ï¼šmysqld --tc-heuristic-recover=ROLLBACK</span></span><br><span class="line"></span><br><span class="line">mysqld --tc-heuristic-recover=ROLLBACK</span><br><span class="line">systemctl start mariadb.service</span><br><span class="line"></span><br><span class="line">ä½†æ˜¯å‘ç°è¿˜æœ‰ä¸ªé”™è¯¯</span><br><span class="line">Apr 30 06:23:45 ubuntu mysqld[4244]: 2020-04-30  6:23:45 139795985828032 [Note] /usr/sbin/mysqld (mysqld 10.2.24-MariaDB-10.2.24+maria~xenial-log) starting as process 4244 </span><br><span class="line">Apr 30 06:23:45 ubuntu mysqld[4244]: 2020-04-30  6:23:45 139795985828032 [Warning] Could not increase number of max_open_files to more than 16364 (request: 21012)</span><br><span class="line">Apr 30 06:23:45 ubuntu mysqld[4244]: 2020-04-30  6:23:45 139795985828032 [Warning] Changed limits: max_open_files: 16364  max_connections: 500 (was 500)  table_cache: 7917 </span><br><span class="line"> </span><br><span class="line"><span class="comment">#æˆ‘åªçŸ¥é“ä¿®æ”¹max_open_fileåœ¨/lib/systemd/system/mariadb.service</span></span><br><span class="line"><span class="comment">#é‚£ä¸ª LimitNOFILEæœ‰è®°è½½ï¼Œæˆ‘ä¹Ÿä¿®æ”¹äº†</span></span><br><span class="line"><span class="comment">#åŒæ—¶</span></span><br><span class="line"><span class="comment">#table_cacheæˆ‘ä¹Ÿé€šè¿‡ç™»å½•æ•°æ®åº“æŸ¥çœ‹äº†ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆä¿®æ”¹</span></span><br><span class="line"><span class="comment">#åæ­£è¿™ä¸ªé”™è¯¯å¯¹ç³»ç»Ÿä½¿ç”¨æ— å½±å“......ä¸æäº†</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…Baobab</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85Baobab/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>å®‰è£…æ•™ç¨‹æŒ‰ç…§å®˜ç½‘çš„<span class="ljspan ljspan-blue"><a href="https://github.com/BaobabLims/baobab.lims">å®‰è£…æ­¥éª¤</a></span>ï¼Œé‡‡ç”¨dockerçš„æ–¹å¼å°±å¯ä»¥å®Œæˆ</p>
<a id="more"></a>
<h3 id="é…ç½®">é…ç½®</h3>
<p>ç”±äº8080ç«¯å£ğŸŒä¸€èˆ¬éƒ½ä¼šè¢«æŸäº›è½¯ä»¶å ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œé¢çš„ç«¯å£æ˜ å°„éœ€è¦ä¿®æ”¹ï¼Œæˆ‘æƒ³æŠŠè®¾ç½®æœåŠ¡å™¨ç«¯å£å¯¹åº”dockerçš„ç«¯å£éƒ½ä¸ºï¼š8090</p>
<p>åœ¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ğŸ¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 8090:8090 quay.io/baobab-lims/baobab-lims</span><br></pre></td></tr></table></figure>
<p>äºæ˜¯é…ç½®äº†é•œåƒåŠ é€Ÿï¼Œç½‘ä¸Šæœ‰<a href="%5Bhttps://vuepress.mirror.docker-practice.com/install/mirror.html#ubuntu-16-04-%E3%80%81debian-8-%E3%80%81centos-7%5D(https://vuepress.mirror.docker-practice.com/install/mirror.html#ubuntu-16-04-%E3%80%81debian-8-%E3%80%81centos-7)">æ•™ç¨‹</a></p>
<hr>
<h3 id="å®‰è£…">å®‰è£…</h3>
<p>é‡æ–°æ‰§è¡Œä¸€é</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker run -p 8090:8090 quay.io/baobab-lims/baobab-lims</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸäº†ğŸ˜ƒ</p>
<img src="/assets/img/Baobabæ‰§è¡Œç»“æœ.png"  />
<p>ä½†æ˜¯ä½¿ç”¨ç½‘å€ç™»é™†ä¸ä¸Šï¼Œéš¾é“å®¹å™¨ä¸èƒ½ç”¨å—â“å‘çˆ¹ğŸ˜­</p>
<hr>
<h3 id="ç»“æœ">ç»“æœ</h3>
<ul>
<li>
<p>ä½¿ç”¨dockerå®‰è£…ï¼Œç½‘å€èƒ½ç™»å½•ï¼Œæç¤ºè¿æ¥è¢«é‡ç½®çš„çŠ¶æ€ï¼Œè€Œå†…ç½‘è®¡ç®—æœºæ— æ³•è¿æ¥ç½‘é¡µçš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p>æ”¹ç”¨Docker-composeå®‰è£…â€”å®‰è£…å¤±è´¥</p>
</li>
</ul>
<hr>
<h3 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h3>
<p>åœ¨<span class="label info">2020/03/13</span> é€šè¿‡å¸è½½ä¹‹å‰çš„å®¹å™¨ï¼Œç„¶åæˆ‘<span class="label danger">ä¿®æ”¹dockeré•œåƒä»“åº“ä¸ºå›½å†…é˜¿é‡Œçš„ä»“åº“</span>ï¼Œé‡æ–°ä¸‹è½½baobabé•œåƒæ–‡ä»¶,ç„¶åè®©ç³»ç»Ÿç«¯å£<span class="label default">æ˜ å°„è‡ªåŠ¨è®¾ç½®</span>ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡å¤–ç½‘è®¿é—®äº†ğŸ˜…ï¼</p>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…OpenELIS</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85OpenELIS/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>ç”±äºå®‰è£…tomcatä¼šå¯¼è‡´apacheå¤±æ•ˆğŸ˜¿</p>
<p>æ‰€ä»¥æˆ‘ä½¿ç”¨è™šæ‹Ÿæœºæ¥å®‰è£…è¿™ä¸ªè½¯ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æä¾›ä¸€ä¸ªå…¨æ–°çš„ç¯å¢ƒã€‚å®‰è£…æ•™ç¨‹åœ¨<a href="https://docs.google.com/document/d/1fv-Zu41ti8yUVWusjd-mAK7YZLI0c4DMPxg-BzL7RUw/edit">è¿™é‡Œ</a></p>
<a id="more"></a>
<p>æœåŠ¡å™¨ç‰ˆæœ¬ubuntu16.04 LTS,ä½†æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå‘ç°ç¨‹åºæ²¡æœ‰å¸®æˆ‘å®‰è£…ä¸Štomcatï¼Œå¯¼è‡´æ— æ³•å®‰è£…æˆåŠŸğŸ˜­</p>
<p>æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">The following <span class="built_in">command</span> may take a few minutes to complete.  Please take a short <span class="built_in">break</span> until it finishes</span><br><span class="line">java -jar  ./lib/liquibase-1.9.5.jar --defaultsFile=liquibaseInstall.properties --contexts=ci_regional --password=cUpHBdzgWyae --username=clinlims  update &gt;&gt; .././<span class="built_in">log</span>/installer.log 2&gt;&amp;3</span><br><span class="line">sudo systemctl stop tomcat</span><br><span class="line">Failed to stop tomcat.service: Unit tomcat.service not loaded.</span><br><span class="line">cp: cannot create regular file <span class="string">&#x27;/usr/share/tomcat8.5/lib/&#x27;</span>: Not a directory</span><br><span class="line">cp: cannot create regular file <span class="string">&#x27;/usr/share/tomcat8.5/conf/Catalina/localhost/&#x27;</span>: No such file or directory</span><br><span class="line">chown: cannot access <span class="string">&#x27;/usr/share/tomcat8.5/conf/Catalina/localhost/CDI_RegLabOpenElis.xml&#x27;</span>: No such file or directory</span><br><span class="line">cp ./warFiles/CDI_RegLabOpenElis.war /usr/share/tomcat8.5/webapps/</span><br><span class="line">cp: cannot create regular file <span class="string">&#x27;/usr/share/tomcat8.5/webapps/&#x27;</span>: Not a directory</span><br><span class="line">Failed to start tomcat.service: Unit tomcat.service not found.</span><br><span class="line">Installing backup</span><br><span class="line">Checking <span class="keyword">for</span> curl</span><br><span class="line">/usr/bin/curl</span><br><span class="line">Curl found, continuing with backup installation</span><br><span class="line">Checking <span class="keyword">if</span> crosstab is installed <span class="keyword">in</span> Postgres</span><br><span class="line">Crosstabs are installed</span><br><span class="line">luoj@luoj-VirtualBox:~/CDI_RegLabOpenElis/linux$ <span class="built_in">cd</span> /usr/share/tomcat8.5/</span><br><span class="line">luoj@luoj-VirtualBox:/usr/share/tomcat8.5$ ll</span><br><span class="line">total 16</span><br><span class="line">drwxr-xr-x   2 tomcat tomcat  4096 Apr 28 09:23 ./</span><br><span class="line">drwxr-xr-x 305 root   root   12288 Apr 28 09:23 ../</span><br><span class="line">luoj@luoj-VirtualBox:/usr/share/tomcat8.5$ java -V</span><br><span class="line">Unrecognized option: -V</span><br><span class="line">Error: Could not create the Java Virtual Machine.</span><br><span class="line">Error: A fatal exception has occurred. Program will <span class="built_in">exit</span>.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ— æ³•æˆåŠŸå®‰è£…tomcatï¼Œå¯èƒ½é…ç½®æ–‡ä»¶é‡Œé¢å‡ºé”™äº†ï¼Œè¿™æ˜¯é‡‡ç”¨puppetæ¥è‡ªåŠ¨å®‰è£…è½¯ä»¶ï¼ŒåŒ…æ‹¬postgressqlç­‰ï¼Œå”¯ç‹¬tomcatå®‰è£…å¤±è´¥</p>
</blockquote>
<hr>
<h3 id="é‡æ–°å®‰è£…">#é‡æ–°å®‰è£…</h3>
<p><a href="https://docs.google.com/document/d/1fv-Zu41ti8yUVWusjd-mAK7YZLI0c4DMPxg-BzL7RUw/edit">å®‰è£…è¯´æ˜æ–‡æ¡£</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ç°åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹web</span></span><br><span class="line">sudo mkdir web</span><br><span class="line"><span class="comment">#æµ‹è¯•ç½‘ç»œæ˜¯å¦è”é€š</span></span><br><span class="line">ping 8.8.8.8</span><br><span class="line"><span class="comment">#æ›´æ–°è½¯ä»¶åŒ…</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>
<p>ç”±äºæä¾›çš„ç¨‹åºæ— æ³•å®‰è£…tomcatï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦æ‰‹åŠ¨<a href="/2020/09/08/Tomcat%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%92%8C%E9%85%8D%E7%BD%AE/">å®‰è£…tomcat</a></p>
<p>å…ˆå®‰è£…tomcatå,å†ç»§ç»­åé¢çš„æ“ä½œ</p>
<p>OpenElisä¸‹è½½åœ°å€</p>
<p><a href="https://www.dropbox.com/s/syafyqxhu212nvp/CDI_RegLabOpenElis_9.1_Installer.tar.gz?dl=0&amp;file_subpath=%2FCDI_RegLabOpenElis%2Flinux">åœ°å€ä¸€</a></p>
<p><a href="http://openelisglobal.org/">åœ°å€äºŒ</a></p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®‰è£…å¿…å¤‡çš„ç³»ç»Ÿè½¯ä»¶</span></span><br><span class="line">sudo apt-get install openssh-server</span><br><span class="line">sudo apt-get install git</span><br><span class="line">sudo apt-get install python python-lxml</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‹è½½è‡ªåŠ¨åŒ–é…ç½®å·¥å…·</span></span><br><span class="line">sudo git <span class="built_in">clone</span> --recursive \</span><br><span class="line">https://github.com/I-TECH-UW/appliance-setup.git /opt/appliance-setup</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…è½¯ä»¶æ‰€éœ€çš„è¾…åŠ©è½¯ä»¶ï¼Œåƒæ•°æ®åº“ï¼ŒwebæœåŠ¡å™¨ç­‰ç­‰</span></span><br><span class="line">sudo APPLIANCE_COMPONENTS=<span class="string">&quot;openelis&quot;</span> /opt/appliance-setup/bin/appliance-setup --webapps=/web --clientcerts=default --keystorepass=changeme apply</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‹è½½OpenElisçš„å®‰è£…åŒ…</span></span><br><span class="line"><span class="comment">#å¯é€šè¿‡å®˜ç½‘ç›´æ¥ä¸‹è½½</span></span><br><span class="line"><span class="comment">#è§£å‹åˆ°å®¶ç›®å½•</span></span><br><span class="line">tar -xzf CDI_RegLabOpenElis_9.1_Installer.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ~/CDI_RegLabOpenElis/linux/</span><br><span class="line">sudo python setup_OpenELIS.py -install</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¿é—®æµè§ˆå™¨http://ip:8080/CDI_RegLabOpenElis/LoginPage.do</span></span><br><span class="line">ç™»å½•è´¦å·</span><br><span class="line">login name: admin password: adminADMIN!</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…elabFTW</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85elabFTW/</url>
    <content><![CDATA[<h3 id="å®‰è£…">å®‰è£…</h3>
<p>æ ¹æ®è¿™ä¸ª<a href="https://doc.elabftw.net/install.html">å®‰è£…æ–‡æ¡£</a>çš„å®‰è£…æ­¥éª¤ä½¿ç”¨dockeræ–¹æ³•å®‰è£…åœ¨ubuntuç³»ç»Ÿä¸Š</p>
<h3 id="é…ç½®">é…ç½®</h3>
<p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œæˆ‘è®¾ç½®çš„é…ç½®å¦‚ä¸‹</p>
<a id="more"></a>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">ä¸»è¦é…ç½®æ–‡ä»¶åœ¨/etc/elabftw.yml</span><br><span class="line"></span><br><span class="line">åŒ…å«elabftwçš„æ•°æ®(mysql+ä¸Šä¼ çš„æ–‡ä»¶)åœ¨/var/elabftw</span><br><span class="line"></span><br><span class="line">å¤‡ä»½æ–‡ä»¶åœ¨/var/backups/elabftw</span><br><span class="line"></span><br><span class="line">æˆ‘çš„ip:x.x.x.254</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨https</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯åœ¨å®‰è£…çš„æ—¶å€™å¤±è´¥äº†ï¼</p>
<p>åŸå› å’Œè§£å†³åŠæ³•ï¼Œ<a href="https://github.com/elabftw/elabftw/issues/849">è¿™é‡Œ</a>æœ‰äººæé—®äº†å¹¶æœ‰è§£ç­”</p>
<hr>
<h3 id="é‡è£…">é‡è£…</h3>
<p>ğŸ’¥å‰æï¼šåˆ é™¤ä¹‹å‰çš„è½¯ä»¶å’Œé…ç½®æ–‡ä»¶</p>
<blockquote>
<p>åˆ é™¤çš„è½¯ä»¶å’Œé…ç½®æ–‡ä»¶æ˜¯åœ¨ä¹‹å‰çš„å®‰è£…è¿‡ç¨‹ä¸­ï¼Œè‡ªå·±é…ç½®æŒ‡å®šçš„å®‰è£…ç›®å½•</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -L https://get.elabftw.net -o elabctl</span><br><span class="line">chmod +x elabctl</span><br><span class="line">sudo cp elabctl /usr/<span class="built_in">local</span>/bin/</span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">elabctl logs</span><br><span class="line"><span class="comment">#å¼€å§‹å®‰è£…</span></span><br><span class="line">elabctl install</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ‘ä½¿ç”¨disable httpsçš„é…ç½®åé¢å‡ºé—®é¢˜äº†</span></span><br><span class="line"> eLabFTW works only <span class="keyword">in</span> HTTPS. Please <span class="built_in">enable</span> HTTPS on your server. Or click this link : http://14.23.114.254:6006</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å¼€å¯elabctl</span></span><br><span class="line">elabctl start</span><br><span class="line"><span class="comment">#å¦‚æœæ•°æ®åº“ç«¯å£3306è¢«å ç”¨æˆ–è€…æƒ³æ”¹ç«¯å£ï¼Œ</span></span><br><span class="line"><span class="comment">#éƒ½å¯ä»¥åˆ°/etc/elabctl.ymlæ–‡ä»¶ä¸­ä¿®æ”¹</span></span><br><span class="line"><span class="comment">#ä¿®æ”¹ç«¯å£å·</span></span><br><span class="line">	ports:</span><br><span class="line">        <span class="comment"># if you want elabftw to run on a different port, change the first number</span></span><br><span class="line">        <span class="comment"># host:container</span></span><br><span class="line">        - <span class="string">&#x27;&lt;your-port&gt;:443&#x27;</span></span><br><span class="line"><span class="comment">#ä¿®æ”¹æ•°æ®åº“ç«¯å£</span></span><br><span class="line">		<span class="comment"># expose should work, but sometimes it doesn&#x27;t so use full port mapping</span></span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&#x27;&lt;your-db-port&gt;:3306&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æœ€åä¸€æ­¥</span></span><br><span class="line">docker <span class="built_in">exec</span> -it elabftw bin/install start</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…Galaxy</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85Galaxy/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>å®‰è£…<span class="ljspan ljspan-reverse"><a href="https://github.com/galaxyproject/galaxy">Galaxy</a></span>ï¼Œä½¿ç”¨Conda,å› ä¸ºä»–éœ€è¦ä¸€ä¸ªç‰¹å®šçš„pythonç¯å¢ƒï¼Œä¸ºäº†ä¸ä¸æœåŠ¡å™¨ä¸»æœºäº§ç”Ÿè€¦åˆæˆ–è€…å†²çªï¼Œæœ€å¥½ä½¿ç”¨condaæ„å»ºä¸€ä¸ªç¯å¢ƒç»™ä½ çš„<span class="ljspan ljspan-reverse"><a href="https://github.com/galaxyproject/galaxy">Galaxy</a></span>ä½¿ç”¨å§ğŸ˜‹</p>
<a id="more"></a>
<h2 id="é…ç½®">é…ç½®</h2>
<p>é¦–å…ˆå®‰è£…<strong>conda</strong>,ç„¶åé…ç½®å›½å†…é•œåƒï¼Œæœ€å¥½æ¸…åçš„é•œåƒï¼Œåœ¨<code>/home/luoj/.condarc</code>é‡Œé¢è®¾ç½®ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro</span><br><span class="line">show_channel_urls: <span class="literal">true</span></span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br></pre></td></tr></table></figure>
<p>ä½ çš„è®¾ç½®è·Ÿæˆ‘ä¸€æ ·ä¹ˆï¼Ÿæˆ‘çš„å¯éƒ½æ˜¯æ¸…åçš„ğŸ“</p>
<h2 id="è¿è¡Œ">è¿è¡Œ</h2>
<p>ç„¶åè¿›å…¥galaxyçš„æ ¹ç›®å½•</p>
<blockquote>
<p>sh <a href="http://run.sh">run.sh</a>  #æ‰§è¡Œç¨‹åº</p>
</blockquote>
<h2 id="è®¿é—®">è®¿é—®</h2>
<p>è®¿é—®ç½‘å€ï¼š<a href="http://localhost:8080">http://localhost:8080</a> ,å·²ç»è¢«æˆ‘ä¿®æ”¹ä¸ºä»»æ„ä¸»æœºå‡å¯è®¿é—®ï¼š<a href="http://14.23.114.254:8080">http://14.23.114.254:8080</a></p>
<blockquote>
<p>é€šè¿‡config/galaxy.ymlè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ”¹å˜httpé…ç½®ä¸ºï¼šhttp: 0.0.0.0</p>
<p>å¦‚æœè¿˜éœ€è¦ä¿®æ”¹ç«¯å£ï¼Œå°±ç›´æ¥æ”¹ä¸ºï¼šhttp: 0.0.0.0:[ç«¯å£å·]</p>
</blockquote>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–‡æ¡£åœ¨<a href="https://docs.galaxyproject.org/en/master/admin/config.html#configuration-basics">è¿™é‡Œ</a></p>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜åŒ–ä¸ªäººåšå®¢</title>
    <url>/2020/08/31/%E4%BC%98%E5%8C%96%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h2 id="å‰è¨€"># å‰è¨€</h2>
<p>çœ‹ç€å°æ¹¾æŸå¤§ç¥çš„âœ¨<span class="ljspan ljspan-blue"><a href="https://oawan.me/">åšå®¢</a></span>âœ¨ï¼Œç”Ÿæˆå‘å¾€ï¼Œå¤ªå¥½çœ‹äº†ğŸ˜­ğŸ˜­ğŸ˜­</p>
<p>æ‰€ä»¥å†³å®šè‡ªå·±ä¹Ÿè·Ÿç€å®Œå–„å’Œä¼˜åŒ–æˆ‘çš„åšå®¢</p>
<a id="more"></a>
<blockquote>
<p>ä»¥ä¸‹ä¸€ä¸‹ç›¸å…³æœ¯è¯­ï¼Œå¯ç¿»<a href="https://theme-next.js.org/docs/getting-started/">NexTå®˜æ–¹æ–‡æ¡£</a>æŸ¥çœ‹ï¼Œæ¯”å¦‚ï¼š<code>theme config file</code></p>
</blockquote>
<hr>
<h2 id="è®¾ç½®åˆ†ç±»-æ ‡ç­¾">è®¾ç½®åˆ†ç±»/æ ‡ç­¾</h2>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¦–å…ˆæ–°å»ºä¸€ä¸ªåˆ†ç±»é¡µé¢(æ ‡ç­¾æ”¹&quot;categories&quot;ä¸º&quot;tags&quot;)</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">categories</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨è¿™ä¸ªé¡µé¢ä¸­è®¾ç½®(æ ‡ç­¾æ”¹&quot;categories&quot;ä¸º&quot;tags&quot;)</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯¹äºæ–‡ç« å¦‚æœæƒ³è®¾ç½®å…¶å±äºå“ªä¸ªåˆ†ç±»/æ ‡ç­¾</span></span><br><span class="line"><span class="comment">#ç›´æ¥åœ¨å¤´éƒ¨æ·»åŠ </span></span><br><span class="line"><span class="comment">#åˆ†ç±»</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">ç›®å½•å</span></span><br><span class="line"><span class="comment">#æ ‡ç­¾</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">æ ‡ç­¾å</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯ä»¥æ·»åŠ å¤šä¸ªæ ‡ç­¾å“¦ï¼Œåªéœ€è¦åˆ†ç±»çš„ä¸‹ä¸€è¡Œå†æ·»åŠ <code>- ç›®å½•å/æ ‡ç­¾å</code>å°±å¯ä»¥å•¦</p>
</blockquote>
<hr>
<h2 id="è®¾ç½®è‡ªå®šä¹‰æ ·å¼è¡¨">è®¾ç½®è‡ªå®šä¹‰æ ·å¼è¡¨</h2>
<p>å…¶å®<a href="https://theme-next.js.org/docs/advanced-settings/custom-files.html">å®˜æ–¹æ–‡æ¡£</a>éƒ½æœ‰è®°è½½ï¼Œæˆ‘æ˜¯ç›´æ¥é‡‡ç”¨å®˜æ–¹æ–‡æ¡£è®°è½½çš„æ–¹å¼å®ç°çš„ï¼Œè¿™æ ·å°±ä¸å®¹æ˜“å†²çª/å‡ºé”™,æˆ‘åªæ˜¯ç…§æ¬æŠ„å†™è€Œå·²ğŸ˜</p>
<h3 id="1-åˆ›å»º-dataç›®å½•">1.åˆ›å»º_dataç›®å½•</h3>
<blockquote>
<p>åœ¨æ ¹ç›®å½•ä¸‹çš„<code>/source</code>ä¸­åˆ›å»º_dataç›®å½•</p>
</blockquote>
<h3 id="2-åˆ›å»ºè‡ªå®šä¹‰æ ·å¼æ–‡ä»¶">2.åˆ›å»ºè‡ªå®šä¹‰æ ·å¼æ–‡ä»¶</h3>
<blockquote>
<p>æ–‡ä»¶åå’Œè·¯å¾„éœ€è¦è·Ÿ<code>theme config file</code>ä¸­çš„<code>custom_file_path</code>ä¸­çš„ä¸€è‡´</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#é…ç½®å¸ƒå±€</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.njk</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.njk</span></span><br><span class="line">  <span class="comment">#é…ç½®ä¾§è¾¹æ </span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.njk</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.njk</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.njk</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.njk</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.njk</span></span><br><span class="line">  <span class="comment">#variable: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="comment">#é…ç½®æ ·å¼ è¦†ç›–+&quot;!important&quot;</span></span><br><span class="line">  <span class="comment">#style: source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Hexoä¸­ä½¿ç”¨emojiè¡¨æƒ…">Hexoä¸­ä½¿ç”¨emojiè¡¨æƒ…</h2>
<h3 id="å‰è¨€-2">#å‰è¨€</h3>
<p>å…¶å®<a href="https://github.com/theme-next/awesome-next#live-preview">NexT</a>å®˜ç½‘æœ‰å…³äºemojiçš„ä½¿ç”¨ä»‹ç»ğŸ’…ï¼Œä¸è¿‡ï¼Œå®ƒä½¿ç”¨çš„æ˜¯<a href="https://github.com/theme-next/hexo-filter-emoji">hexo-filter-emoji</a>(GitHub emojis for Hexo)ï¼Œå¯æˆ‘æƒ³è¦çš„æ˜¯markdowné‡Œé¢çš„emojiå•Šï¼Œé‚£ä¸ªæ›´å¯çˆ±ç‚¹âœŒï¸</p>
<p>ä¸Šç½‘æ‰¾äº†æ‰¾ï¼Œæœ‰åšä¸»å®ç°äº†ğŸ’¯ï¼Œèµ„æ–™ä¹Ÿæ¯”è¾ƒæ–°ï¼Œç›¸å…³æ–‡æ¡£å¦‚ä¸‹ï¼š</p>
<p><a href="https://www.geek-space.cn/post/emoji.html">å‚è€ƒåšä¸»1</a></p>
<p><a href="%5Bhttps://hasaik.com/posts/9b280ea3.html#%F0%9F%8C%9E-%E5%AE%89%E8%A3%85%5D(https://hasaik.com/posts/9b280ea3.html#%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD-%E5%AE%89%E8%A3%85)">å‚è€ƒåšä¸»2</a></p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br><span class="line">npm install markdown-it-emoji --save</span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®">é…ç½®</h3>
<p>ä¿®æ”¹<code>site config file</code>ï¼š_config.yml</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line"><span class="comment">#å…³é”®æ·»åŠ è¿™ä¸ª</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-emoji</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¯¦ç»†é…ç½®<a href="https://github.com/hexojs/hexo-renderer-markdown-it/wiki/Advanced-Configuration">çœ‹è¿™é‡Œ</a></p>
</blockquote>
<hr>
<h2 id="Hexoä¸­è®¾ç½®å›¾ç‰‡FancyBoxæ’ä»¶">Hexoä¸­è®¾ç½®å›¾ç‰‡FancyBoxæ’ä»¶</h2>
<h3 id="å‰è¨€-3">#å‰è¨€</h3>
<p>é€šè¿‡æŸåšä¸»(å‰é¢æœ‰æåˆ°)çš„åšå®¢ï¼Œå‘ç°å®ƒçš„åšå®¢æ–‡ç« æ‰“å¼€å›¾ç‰‡éƒ½å¾ˆå¥½çœ‹ğŸ˜ï¼Œæ‰€ä»¥å°±æƒ³ç€è·Ÿç€ä»–åšï¼Œçœ‹åˆ°ä»–å¼•ç”¨çš„æ˜¯<a href="https://fancyapps.com/fancybox/#license">FancyBox</a>æ¡†æ¶ï¼Œåˆšå¥½<span class="ljspan ljspan-blue">NexT</span>ä¸»é¢˜ä¹Ÿæ”¯æŒï¼Œé‚£çœŸæ˜¯ç»ä½³å•ŠğŸ˜‰</p>
<h3 id="é…ç½®-2">é…ç½®</h3>
<p>ä¿®æ”¹<code>site config file</code>ï¼š_config.yml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¼€å¯fancyboxåŠŸèƒ½</span></span><br><span class="line">fancybox: <span class="literal">true</span></span><br><span class="line"><span class="comment">#é…ç½®fancyboxçš„css,js,jqueryçš„åœ°å€</span></span><br><span class="line"><span class="comment">#å¯é‡‡ç”¨cdnçš„æ–¹å¼ä¹Ÿå¯ä»¥ä½¿ç”¨æœ¬åœ°ç›®å½•å¼•å…¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FancyBox</span></span><br><span class="line">jquery: <span class="comment">#é“¾æ¥åœ°å€</span></span><br><span class="line">fancybox: <span class="comment">#é“¾æ¥åœ°å€</span></span><br><span class="line">fancybox_css: <span class="comment">#é“¾æ¥åœ°å€</span></span><br></pre></td></tr></table></figure>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">#é€šè¿‡é…ç½®è‡ªå®šä¹‰æ ·å¼è¡¨source/_data/styles.styl</span><br><span class="line">#æ·»åŠ ä»£ç å¦‚ä¸‹</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">&quot;.fancybox&quot;</span>).fancybox(&#123;		          </span><br><span class="line">		  helpers : &#123;</span><br><span class="line">			  overlay : &#123;</span><br><span class="line">				  css : &#123;</span><br><span class="line">					  <span class="string">&#x27;background-color&#x27;</span> : <span class="string">&#x27;transparent&#x27;</span></span><br><span class="line">				  &#125;</span><br><span class="line">			  &#125;</span><br><span class="line">		  &#125;</span><br><span class="line">	  &#125;);		       </span><br><span class="line">&#125;); </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="ç¤ºä¾‹æ¼”ç¤º">ç¤ºä¾‹æ¼”ç¤º</h3>
<blockquote>
<p>ç‚¹å‡»å›¾ç‰‡ï¼Œæœ‰ä¸€ä¸ªå¼¹å‡ºæ•ˆæœå“¦ï¼</p>
</blockquote>
<p><img src="/assets/img/20200831_144728.gif" alt="ç¤ºä¾‹"></p>
<hr>
<blockquote>
<p>æ„Ÿè°¢<a href="https://wavedanger.gitee.io/blog/">æµªé™©å…„</a>æä¾›çš„åœ¨çº¿å½•å±å·¥å…·ï¼ï¼ï¼ğŸ‘Š</p>
</blockquote>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…mediawiki</title>
    <url>/2020/09/09/%E5%AE%89%E8%A3%85mediawiki/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>å®‰è£…<span class="ljspan ljspan-reverse ljspan-yellow"><a href="https://www.mediawiki.org/wiki/MediaWiki">mediawiki</a></span>å¾ˆç®€å•ğŸ˜€ï¼Œæ¯”è¾ƒéš¾çš„æ˜¯éœ€è¦å®‰è£…å¥¹æ‰€éœ€è¦çš„è½¯ä»¶å’Œé…ç½®ï¼Œæˆ‘åœ¨ubuntuå®‰è£…è¿‡å‡ ä¸ªï¼Œéƒ½æˆåŠŸäº†ï¼Œä½†æ˜¯åœ¨centosä¸Šå®‰è£…æ—¶ï¼Œå‘ç°webæœåŠ¡å™¨å’Œ<span class="ljspan ljspan-reverse ljspan-yellow"><a href="https://www.mediawiki.org/wiki/MediaWiki">mediawiki</a></span>å‡ºç°æŸäº›å†²çªï¼Œå¯¼è‡´æ— æ³•ä½¿ç”¨ï¼Œå…·ä½“ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå¯èƒ½æ˜¯æˆ‘çš„webæœåŠ¡å™¨é…ç½®å‡ºé—®é¢˜â€¦ğŸ˜©</p>
<a id="more"></a>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>å…·ä½“å®‰è£…æ•™ç¨‹çœ‹<a href="https://www.mediawiki.org/wiki/MediaWiki">å®˜ç½‘</a>å•¦ï¼Œå¾—<span class="label danger">ç¿»å¢™</span>å“¦ï¼Œéšè®©<span class="ljspan ljspan-yellow"><a href="https://github.com/wikimedia/mediawiki">github</a></span>ä¸Šé¢ä¹Ÿæä¾›ä¸‹è½½ï¼Œä½†æ˜¯æ²¡æœ‰æ•™ç¨‹é˜¿ï¼Œè€Œä¸”é‡åˆ°é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰ç»™å‡ºè§£å†³åŠæ³•ï¼Œè¿˜æ˜¯å»<a href="https://www.mediawiki.org/wiki/MediaWiki">å®˜ç½‘</a>å§</p>
<p>å¦‚æœæç¤ºè¯´éœ€è¦å®‰è£…composerï¼Œ<a href="https://www.mediawiki.org/wiki/MediaWiki">å®˜ç½‘</a>ä¹Ÿæœ‰æä¾›ä¸‹è½½å®‰è£…çš„æ–¹æ³•</p>
<p>ç„¶åç”¨composerå®‰è£…ä¸€äº›ä¾èµ–ï¼Œå¦‚æœè¿™æ—¶å€™æ— æ³•å®‰è£…ï¼Œå‡ºç°å†…å­˜ä¸å¤Ÿï¼ˆé‡å¯ç³»ç»Ÿï¼‰æˆ–ä¸‹è½½å¤±è´¥ï¼ˆä¿®æ”¹composeré•œåƒï¼‰ï¼Œè¿™äº›éƒ½å¯ä»¥é€šè¿‡ç™¾åº¦ä¸€ä¸€è§£å†³ï¼›ä½†æ˜¯ä¿®æ”¹composeré•œåƒæ¯”è¾ƒéº»çƒ¦ğŸ’©</p>
<p>åœ¨ä¿®æ”¹é•œåƒè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæç¤ºæ— æ³•ä¿®æ”¹ï¼Œå‡ºç°ç±»ä¼¼é—®é¢˜ğŸ˜µï¼š<strong>Could not read /home/ç”¨æˆ·å/.composer/config.json</strong></p>
<blockquote>
<p><a href="https://developer.aliyun.com/composer">è¿™é‡Œ</a>æ˜¯é˜¿é‡Œäº‘æä¾›çš„ä¿®æ”¹é•œåƒçš„æ–¹æ³•ğŸ’…</p>
</blockquote>
<p>é‚£ä¹ˆå°±ä¿®æ”¹ä¸€ä¸‹<code>/home/ç”¨æˆ·å/.composer/config.json</code>å’Œ<code>/home/ç”¨æˆ·å/.composer/auth.json</code>çš„æƒé™ä¸º777å†é‡æ–°è¿è¡Œcomposer å°±åº”è¯¥å¯ä»¥äº†</p>
<hr>
<h2 id="mediawikiè¯­æ³•">mediawikiè¯­æ³•</h2>
<ol>
<li>__mediawiki__è®¾ç½®æ¨¡æ¿æ—¶ï¼Œç›´æ¥åœ¨æœç´¢æ¡†è¾“å…¥â€œ<em>Template:æ¨¡æ¿å</em>â€å°±å¯ä»¥åˆ›å»ºæ¨¡æ¿äº†ï¼Œ__è°ƒç”¨æ¨¡æ¿__çš„æ–¹æ³•ä¸º:[[Template:æ¨¡æ¿å]];</li>
<li>ä¿®æ”¹çš®è‚¤çš„æ ·å¼å¯é€šè¿‡åœ¨æœç´¢ä¸­è¾“å…¥__MediaWiki:Vector.css__æ¥æ‰¾åˆ°å¯¹åº”çš„çš®è‚¤cssæ ·å¼æ–‡ä»¶åï¼Œä¿®æ”¹æ•´ä¸ªçš®è‚¤çš„æ ·å¼</li>
<li>ä¹Ÿå¯ä»¥é€šè¿‡åœ¨æœç´¢æ¡†ä¸­è¾“å…¥__MediaWiki:Common.css__è¿›å…¥ä¿®æ”¹é¡µé¢æ¥è®¾ç½®å…¨å±€çš„æ ·å¼ï¼›</li>
<li><code>&#123;&#123;&#123;1&#125;&#125;&#125;</code>è¡¨ç¤ºå‚æ•°ï¼Œæ¨¡æ¿1å¼•ç”¨å‚æ•°å¯ä»¥ä½¿ç”¨<code>&#123;&#123;æ¨¡æ¿2|å‚æ•°å=å‚æ•°&#125;&#125;</code>æ¥å¼•å…¥ï¼›</li>
<li>åœ¨__mediawiki__ä¸­[[image/file]]è¡¨ç¤ºé“¾æ¥ğŸ”—</li>
<li><strong><code>&#123;&#123;#while&#125;&#125;</code><strong>å’Œ</strong><code>&#123;&#123;#vardefine&#125;&#125;</code><strong>ç­‰éƒ½æ˜¯</strong>è§£æå™¨å‡½æ•°</strong>ï¼Œ<a href="%5Bhttps://www.huijiwiki.com/wiki/%E5%B8%AE%E5%8A%A9:%E8%A7%A3%E6%9E%90%E5%99%A8%E5%87%BD%E6%95%B0#var.E7.B3.BB.E5.88.97.E5.87.BD.E6.95.B0%5D(https://www.huijiwiki.com/wiki/%E5%B8%AE%E5%8A%A9:%E8%A7%A3%E6%9E%90%E5%99%A8%E5%87%BD%E6%95%B0#var.E7.B3.BB.E5.88.97.E5.87.BD.E6.95.B0)">å‚è€ƒæ–‡æ¡£åœ¨è¿™é‡Œ</a></li>
<li>__vertical-align__å…ƒç´ æ˜¯è®¾ç½®å‚ç›´å¯¹é½å±æ€§çš„ï¼Œæœ‰baseline/top/middle/bottom/text-top/text-bottomç­‰ã€‚</li>
</ol>
<hr>
<h2 id="é‡è£…mediawiki">é‡è£…mediawiki</h2>
<h3 id="å¦‚æœåªæ˜¯æƒ³è¦å‡çº§"><strong>å¦‚æœåªæ˜¯æƒ³è¦å‡çº§</strong></h3>
<p>é‚£ä¹ˆç®€å•ï¼Œæ­¥éª¤å¦‚ä¸‹ğŸ¾</p>
<ol>
<li>è¾“å…¥ç½‘å€ï¼š<code>http://ip:ç«¯å£/é¡¹ç›®/mw-config</code></li>
<li>åœ¨<span class="label warning">LocalSettings.php</span>ä¸­æŸ¥æ‰¾ä¸€ä¸ªwgUpgradeçš„å‚æ•°ï¼Œç„¶åæŠŠå®ƒå¤åˆ¶åå¡«å…¥ç½‘é¡µä¸­ï¼Œå°±å¯ä»¥äº†</li>
</ol>
<h3 id="å¦‚æœæƒ³è¦è¿æ•°æ®åº“ç­‰é‡è¦é…ç½®éƒ½é‡ç½®">å¦‚æœæƒ³è¦è¿æ•°æ®åº“ç­‰é‡è¦é…ç½®éƒ½é‡ç½®</h3>
<p>æŠŠé¡¹ç›®çš„<span class="label warning">LocalSettings.php</span>æ–‡ä»¶ç»™åˆ äº†</p>
<p>è¾“å…¥ç½‘å€ï¼š<code>http://ip:ç«¯å£/é¡¹ç›®/mw-config</code></p>
<p>æ ¹æ®æŒ‡å¼•æ¥é…ç½®é¡¹ç›®ï¼Œé…ç½®æ•°æ®åº“çš„å‰ææ˜¯æå‰é…ç½®å¥½mysqlæ•°æ®åº“</p>
<p>é…ç½®æ•°æ®åº“çš„éœ€æ±‚ï¼š</p>
<ul>
<li>
<p>æ•°æ®åº“çš„åç§°</p>
</li>
<li>
<p>å¯¹åº”æ•°æ®åº“æŒ‡å®šçš„ç”¨æˆ·åå’Œå¯†ç </p>
</li>
</ul>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>å®‰è£…metalims</title>
    <url>/2020/09/08/%E5%AE%89%E8%A3%85metalims/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>ç”±äºæˆ‘åªæƒ³çœ‹çœ‹MetaLIMSè½¯ä»¶ä¸ºä½•æ ·ï¼Œæ•…åªéœ€ä¸‹è½½äº†MetaLIMS demo,æ‰€ä»¥æˆ‘é€‰æ‹©äº†è¿™ç§æ–¹æ³•ï¼š<a href="https://github.com/cheinle/MetaLIMS/wiki/MetaLIMS--v2.0-Hosted-Installation-(via-AWS-Lightsail)">MetaLIMS v2.0 Hosted Installation (via AWS Lightsail)</a></p>
<a id="more"></a>
<p>è¿›å…¥è¿™ä¸ªå®‰è£…è¯´æ˜æ–‡æ¡£ï¼Œå¯ä»¥æ³¨å†Œè´­ä¹°äº‘æœåŠ¡å™¨ï¼Œåªéœ€è¦å®‰è£…æ‰€éœ€çš„ä¸‰ä¸ªæ–‡ä»¶**<a href="https://github.com/cheinle/MetaLIMS/wiki/MetaLIMS--v2.0-Hosted-Installation-(via-AWS-Lightsail)#install-lamp-stack">lamp.sh</a>,<a href="https://github.com/cheinle/MetaLIMS/wiki/MetaLIMS--v2.0-Hosted-Installation-(via-AWS-Lightsail)#create-a-self-signed-ssl-certificate-for-apache-optional">apache_ssh_16.sh</a>,<a href="https://github.com/cheinle/MetaLIMS/wiki/MetaLIMS--v2.0-Hosted-Installation-(via-AWS-Lightsail)#install-metalims">metalims.sh</a>**</p>
<p>åœ¨<a href="https://github.com/cheinle/MetaLIMS/wiki">å®‰è£…è¯´æ˜æ–‡æ¡£</a>è¿™é‡Œï¼Œå°±å¯ä»¥ä¸‹è½½ä¸Šé¢çš„ä¸‰ä¸ªæ–‡ä»¶</p>
<hr>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p><a href="http://xn--lamp-9j5f881aho2a2j6a0v6ayyp.sh">ä¹‹åç›´æ¥è¿è¡Œlamp.sh</a></p>
<p>è¿è¡ŒæœŸé—´ä¼šæç¤ºè®¾ç½®âš™ï¸</p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta">#1.ç¬¬ä¸€æ­¥</span></span><br><span class="line">source lamp.sh</span><br><span class="line"><span class="meta">#ä¸­é€”æç¤ºè¾“å…¥mysqlå¯†ç </span></span><br><span class="line"><span class="meta">#å¹¶ä¸”è¿˜æœ‰ä¸€äº›è®¾ç½®</span></span><br><span class="line"><span class="meta">#2.ç¬¬äºŒæ­¥</span></span><br><span class="line">source apache_ssh_16.sh</span><br></pre></td></tr></table></figure>
<p>å…·ä½“é…ç½®è¿‡ç¨‹å¯å‚è€ƒ<a href="https://github.com/cheinle/MetaLIMS/wiki/MetaLIMS--v2.0-Hosted-Installation-(via-AWS-Lightsail)#create-a-self-signed-ssl-certificate-for-apache-optional">å®˜æ–¹æ–‡æ¡£</a></p>
]]></content>
      <categories>
        <category>lims</category>
      </categories>
      <tags>
        <tag>lims</tag>
      </tags>
  </entry>
  <entry>
    <title>æŸ¥çœ‹ç«¯å£å ç”¨</title>
    <url>/2020/09/08/%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/</url>
    <content><![CDATA[<blockquote>
<p>æŸ¥çœ‹ç«¯å£å ç”¨ æˆ– è¿›ç¨‹ID/åçš„æ–¹æ³•æœ‰å¥½å‡ ç§ï¼Œä»¥ä¸‹åˆ†åˆ«ä¸¾ä¾‹</p>
</blockquote>
<h4 id="ç¬¬ä¸€ç§åŠæ³•ï¼š">ç¬¬ä¸€ç§åŠæ³•ï¼š</h4>
<span class="label info">sudo netstat -nltp|grep ç«¯å£å·/è¿›ç¨‹å</span>
<p>eg1ï¼š<code>sudo netstat -nltp|grep 3306</code></p>
<p>eg2:   <code>sudo netstat -ntlp|grep mysql</code></p>
<a id="more"></a>
<h4 id="ç¬¬äºŒç§åŠæ³•ï¼š">ç¬¬äºŒç§åŠæ³•ï¼š</h4>
<span class="label success">sudo lsof -i :ç«¯å£å·</span>
<p>eg:   <code>sudo lsof -i :3306</code></p>
<div class="note default">
            <h4 id="Note">Note:</h4><p>psåªèƒ½æŸ¥çœ‹è¿›ç¨‹åå’Œè¿›ç¨‹ID</p>
          </div>
<h4 id="ç¬¬ä¸‰ç§åŠæ³•ï¼š">ç¬¬ä¸‰ç§åŠæ³•ï¼š</h4>
<span class="label warning">sudo ps -aux|grep è¿›ç¨‹å</span>
<p>eg:   <code>sudo ps -aux|grep mysql</code></p>
<blockquote>
<p>éƒ½åŠ sudoçš„åŸå› æ˜¯æŸäº›ç¨‹åºçš„æŸ¥çœ‹éœ€è¦rootæƒé™é˜¿ï¼ğŸ˜‚</p>
</blockquote>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title>è™šæ‹Ÿæœºçš„ç½‘ç»œ</title>
    <url>/2020/09/09/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%BD%91%E7%BB%9C/</url>
    <content><![CDATA[<h2 id="åˆ†ç±»">åˆ†ç±»</h2>
<p>è™šæ‹Ÿæœºçš„ç½‘ç»œåˆ†å¥½å‡ ç§ğŸ’¬</p>
<p>ç°åœ¨æˆ‘åªå…³æ³¨ä¸¤ç§å¯ä»¥ä¸Šç½‘çš„æ¨¡å¼ï¼š<span class="ljspan ljspan-blue">æ¡¥æ¥ç½‘ç»œ</span>ã€<span class="ljspan ljspan-red">ç½‘ç»œåœ°å€è½¬æ¢NAT</span>;</p>
<p>è¿™ä¸¤ç§éƒ½èƒ½å¤Ÿå®ç°ç½‘ç»œåŠŸèƒ½ï¼Œå…·ä½“è®²ä¸€è®²ğŸ˜ƒ</p>
<a id="more"></a>
<p>æ¡¥æ¥ç½‘ç»œï¼šå…¶å®å°±æ˜¯ç»™ä½ çš„è™šæ‹Ÿæœºåˆ†é…ä¸€ä¸ª<span class="label info">å±€åŸŸç½‘</span>åœ°å€ï¼Œä¸€ä¸ªç‹¬ç«‹çš„å±€åŸŸç½‘</p>
<p>ç½‘ç»œåœ°å€è½¬æ¢NAT:å…¶å®æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç½‘ç»œåœ°å€ï¼Œä¸å­˜åœ¨çš„ï¼Œä»–çš„å®é™…ç½‘ç»œåœ°å€æ˜¯ä½ çš„<span class="label success">ç”µè„‘ä¸»æœºIP</span>,ä¹Ÿå°±æ˜¯ä¸»æœºçš„å±€åŸŸç½‘åœ°å€</p>
<p>ğŸ’¥æ•…åœ¨è®¾ç½®è·¯ç”±IPç«¯å£è½¬æ¢çš„æ—¶å€™ï¼Œå°±æœ‰ä¸åŒç‚¹äº†</p>
<ol>
<li>
<p>æ¡¥æ¥ç½‘ç»œï¼šç®€å•ï¼Œç›´æ¥æŠŠä»–çš„IPåœ°å€å’Œç«¯å£åœ¨è·¯ç”±ä¸Šæ˜ å°„å°±å¯ä»¥äº†</p>
</li>
<li>
<p>ç½‘ç»œåœ°å€è½¬æ¢NAT:</p>
<ul>
<li>
<p>åœ¨è¿™å°è™šæ‹Ÿæœºçš„ç½‘ç»œè®¾ç½®ä¸­è®¾ç½®ç«¯å£è½¬å‘åˆ°ä½ çš„ä¸»æœºç«¯å£</p>
</li>
<li>
<p>å†æŠŠåˆšåˆšçš„è®¾ç½®çš„ä¸»æœºç«¯å£åœ¨è·¯ç”±å™¨æ˜ å°„å°±å¯ä»¥äº†</p>
</li>
</ul>
</li>
</ol>
<div class="note info">
            <p>Noteï¼šç½‘ç»œåœ°å€è½¬æ¢æ¯”æ¡¥æ¥åœ°å€å¤šäº†ä¸€å±‚ç«¯å£çš„æ˜ å°„</p>
          </div>
<hr>
<h2 id="ç¤ºä¾‹ï¼šç½‘ç»œåœ°å€è½¬æ¢NAT">ç¤ºä¾‹ï¼šç½‘ç»œåœ°å€è½¬æ¢NAT</h2>
<blockquote>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯VM virtualBox</p>
</blockquote>
<h4 id="æ­¥éª¤1ï¼šæ‰“å¼€ä»»æ„ä¸€å°è™šæ‹Ÿæœºâ€“è®¾ç½®â€“ç½‘ç»œ">æ­¥éª¤1ï¼šæ‰“å¼€ä»»æ„ä¸€å°è™šæ‹Ÿæœºâ€“è®¾ç½®â€“ç½‘ç»œ</h4>
<p><img src="/assets/img/%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C1.png" alt=""></p>
<h4 id="æ­¥éª¤2ï¼šç‚¹å‡»é«˜çº§â€“ç«¯å£è½¬å‘">æ­¥éª¤2ï¼šç‚¹å‡»é«˜çº§â€“ç«¯å£è½¬å‘</h4>
<p><img src="/assets/img/%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C2.png" alt=""></p>
<h4 id="æ­¥éª¤3ï¼šåœ¨ç«¯å£è½¬å‘è§„åˆ™è¿™é‡Œå°±å¯ä»¥è®¾ç½®ç«¯å£çš„è½¬å‘åˆ°ä¸»æœºä¸Šå•¦">æ­¥éª¤3ï¼šåœ¨ç«¯å£è½¬å‘è§„åˆ™è¿™é‡Œå°±å¯ä»¥è®¾ç½®ç«¯å£çš„è½¬å‘åˆ°ä¸»æœºä¸Šå•¦</h4>
<p><img src="/assets/img/%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C3.png" alt=""></p>
]]></content>
      <categories>
        <category>network</category>
      </categories>
      <tags>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title>ç£ç›˜æ£€æµ‹å’Œæ•°æ®å¤‡ä»½</title>
    <url>/2020/09/09/%E7%A3%81%E7%9B%98%E6%A3%80%E6%B5%8B%E5%92%8C%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/</url>
    <content><![CDATA[<h3 id="æ£€æµ‹ä¸åˆ°ç¡¬ç›˜">æ£€æµ‹ä¸åˆ°ç¡¬ç›˜</h3>
<p>åŒäº‹è®©æˆ‘çœ‹çœ‹æœåŠ¡å™¨ï¼Œæƒ³è¦åˆ©ç”¨ç£ç›˜<code>/dev/sdb</code>ï¼Œä½†æ˜¯å‘¢ï¼Œä¸ç®¡æ˜¯<span class="label info">fdisk -l</span> è¿˜æ˜¯<span class="label success">df -h</span>å‘½ä»¤éƒ½æŸ¥ä¸åˆ°æŒ‚è½½æˆ–è€…æœªæŒ‚è½½çš„ç£ç›˜sdbå’Œè¿™ä¸ªç¡¬ç›˜çš„åˆ†åŒºä¿¡æ¯ï¼Œä½†æ˜¯å½“æˆ‘å»æŸ¥çœ‹è¿™ä¸ªç¡¬ç›˜çš„æ—¶å€™ï¼Œå‘ç°å®ƒå¾ˆçƒ«ï¼Œè¯æ˜ç¡¬ç›˜è¿æ¥æ²¡é—®é¢˜çš„ï¼Œé‚£æ€ä¹ˆå°±æ£€æµ‹ä¸åˆ°å‘¢?çœŸçš„ä¸çŸ¥é“ğŸ˜µ</p>
<a id="more"></a>
<p>æŒ‰é“ç†æŸåçš„ç¡¬ç›˜ä¹Ÿæ˜¯å¯ä»¥æ‰¾åˆ°çš„å•Šï¼Œåªæ˜¯åäº†è€Œå·²ï¼</p>
<p>æœ€åå‘ç°ï¼Œæœç„¶æ˜¯æ•°æ®çº¿è¿æ¥é—®é¢˜ğŸ˜©ï¼Œé‡æ–°æ’ç¡¬ç›˜çš„æ•°æ®çº¿ï¼Œå°±å¯ä»¥æ£€æµ‹åˆ°è¿™ä¸ªæ–°çš„ç¡¬ç›˜äº†ğŸ˜ƒ</p>
<p>å¯é€šè¿‡å¼€æœº<span class="label primary">æŒ‰F2</span>è¿›å…¥BIOSç•Œé¢æŸ¥çœ‹ç›¸å…³çš„è®¾å¤‡æƒ…å†µ</p>
<hr>
<h2 id="å¤‡ä»½æ•°æ®">å¤‡ä»½æ•°æ®</h2>
<p>è€ƒè™‘åˆ°ç³»ç»Ÿå¯èƒ½å‡ºé”™ï¼Œæ‰€ä»¥æƒ³ç»™æ—§ç£ç›˜çš„æ•°æ®åšå¤‡ä»½ã€‚</p>
<p>ä½¿ç”¨<span class="label danger">dump</span> å‘½ä»¤ ï¼š</p>
<p><code>dump -0u -f å¤‡ä»½æ–‡ä»¶å å¤‡ä»½æºæ–‡ä»¶ç³»ç»Ÿ</code></p>
<div class="note info">
            <h4 id="Note">Note:</h4><p>å¤‡ä»½æ–‡ä»¶åå¦‚åœ¨ç›®å½•é‡Œé¢ï¼Œéœ€è¦å¸¦ä¸Šç›®å½•</p><p>å¤‡ä»½åŸæ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨è®¾å¤‡åæˆ–è€…æŒ‚è½½çš„ç›®å½•éƒ½OK</p>
          </div>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<blockquote>
<p>è¿™é‡Œé€‰å–ä¸¤ä¸ªç³»ç»Ÿä¸Šçš„ç©ºç™½åˆ†åŒºsda1å’Œsda2</p>
</blockquote>
<p>åˆ†åŒºsda1 (100G) ç”¨ä½œå¤‡ä»½åˆ†åŒº  æŠŠ<code>/dev/sda1</code>æŒ‚è½½åˆ° <code>/data1/backup</code> ä¸Š</p>
<p>åˆ†åŒºsda2 (300G) ç”¨ä½œå®‰è£…è½¯ä»¶çš„æ•°æ®å­˜å‚¨  <code>/dev/sda2</code>æŒ‚è½½åˆ°<code>/data1 </code>ä¸Š</p>
<div class="note success">
            <h4 id="Note-å…¶å®ç³»ç»Ÿåšäº†ä¸¤ä»½å¤‡ä»½">Note:å…¶å®ç³»ç»Ÿåšäº†ä¸¤ä»½å¤‡ä»½</h4><p>ä¸€ä»½åœ¨<code>data1/lost+found/sdb1.dump</code><br>å¦ä¸€ä»½åœ¨<code>/data1/backup/sdb1.dump.1</code></p>
          </div>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>backup</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…mysql</title>
    <url>/2020/09/10/%E5%AE%89%E8%A3%85mysql/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½">ä¸‹è½½</h2>
<ol>
<li>
<p>åœ¨<span class="ljspan ljspan-reverse"><a href="https://dev.mysql.com/downloads/repo/apt/">mysqlå®˜ç½‘</a></span>ä¸‹è½½mysqlçš„aptè½¯ä»¶åŒ…ğŸ“¦</p>
<div class="note primary">
            <p>Note:åœ¨å®˜ç½‘ä¸‹è½½æ—¶ï¼Œå¦‚æœé‡‡ç”¨å¤åˆ¶é“¾æ¥ä¸‹è½½ï¼Œå¯¹äºå¤åˆ¶downloadçš„é“¾æ¥åœ°å€æ˜¯é”™è¯¯çš„ï¼Œéœ€è¦ç‚¹å‡»è¿›å…¥ï¼Œå¤åˆ¶é‡Œé¢çš„â€œ<strong><a href="https://dev.mysql.com/get/mysql-apt-config_0.8.15-1_all.deb">No thanks, just start my download.</a></strong>â€ï¼Œè¿™ä¸ªæ‰æ˜¯çœŸæ­£çš„é“¾æ¥åœ°å€</p>
          </div>
</li>
</ol>
<a id="more"></a>
<ol start="2">
<li>ä¹Ÿå¯é€šè¿‡wgetç›´æ¥ä¸‹è½½ğŸ™‚</li>
</ol>
<blockquote>
<p>æ¯”è¾ƒç®€å•ï¼Œé…ç½®æ–‡ä»¶éƒ½è‡ªåŠ¨è®¾ç½®å¥½ï¼ŒåŒ…æ‹¬è®¾ç½®ç¯å¢ƒå˜é‡ç­‰ç­‰</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¸‹è½½</span></span><br><span class="line">wget -c https://dev.mysql.com/get/mysql-apt-config_0.8.15-1_all.deb</span><br><span class="line"><span class="comment">#debåŒ…çš„å½“å‰ç›®å½•ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹(è®°å¾—æ›¿æ¢w.x.y)</span></span><br><span class="line">sudo dpkg -i mysql-apt-config_w.x.y-z_all.deb</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ–°apt-getä»“åº“</span></span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å®‰è£…">å®‰è£…</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå¼¹å‡ºçª—å£ä¸¤æ¬¡è®¾ç½®å¯†ç </span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="é”™è¯¯ğŸ´">é”™è¯¯ğŸ´</h2>
<p>å¦‚é‡åˆ°dpkgçš„é”™è¯¯ï¼Œéœ€è¦æ›´æ–°dpkgåŒ…</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åœ¨/var/lib/dpkg/ä¸‹ï¼Œæ‹·è´infoç›®å½•åˆ°info_old</span></span><br><span class="line">sudo mv /var/lib/dpkg/inf /var/lib/dpkg/info_old </span><br><span class="line"><span class="comment">#æ–°å»ºä¸€ä¸ªinfoç›®å½•</span></span><br><span class="line">sudo mkdir /var/lib/dpkg/info</span><br><span class="line"><span class="comment">#æ›´æ–°apt-getåŒ…,å¹¶å®‰è£…ä¸Šæ–‡å‡ºç°é”™è¯¯çš„å®‰è£…åŒ…</span></span><br><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get -f install mysql-community-server</span><br><span class="line">ç„¶åç§»åŠ¨æ‰€æœ‰æ–°ç”Ÿæˆçš„æ–‡ä»¶åŒ…åˆ°info_oldç›®å½•ä¸­</span><br><span class="line">mv /var/lib/dpkg/info/* /var/lib/dpkg/info_old</span><br><span class="line"><span class="comment">#åˆ é™¤infoç›®å½•ï¼Œç»™info_oldæ”¹åä¸ºinfo</span></span><br><span class="line">sudo rm -rf /var/lib/dpkg/info</span><br><span class="line">sudo mv /var/lib/dpkg/info_old /var/lib/dpkg/info</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡æ–°æ‰§è¡Œä¸€é</span></span><br><span class="line">sudo apt-get install mysql-server</span><br><span class="line"><span class="comment">#æ²¡ä»€ä¹ˆé—®é¢˜</span></span><br><span class="line"><span class="comment">#ä½†æ˜¯æ²¡æœ‰è‡ªåŠ¨å¯åŠ¨msyqlæœåŠ¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note info">
            <p>å…¶å®ï¼Œä¸€èˆ¬mysqlé‡åˆ°é—®é¢˜ï¼Œéƒ½å¯ä»¥åœ¨æ—¥å¿—æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼Œæ¯”å¦‚æˆ‘é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜â€¦=_=â€™â€™</p>
          </div>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">2020-03-26T06:52:46.063437Z</span> <span class="number">0</span> [<span class="string">ERROR</span>] <span class="string">Can&#x27;t</span> <span class="attr">start server: Bind on TCP/IP port:</span> <span class="string">Permission</span> <span class="string">denied</span></span><br><span class="line"><span class="number">2020-03-26T06:52:46.063462Z</span> <span class="number">0</span> [<span class="string">ERROR</span>] <span class="attr">Do you already have another mysqld server running on port:</span> <span class="number">3306</span> <span class="string">?</span></span><br><span class="line"><span class="number">2020-03-26T06:52:46.063487Z</span> <span class="number">0</span> [<span class="string">ERROR</span>] <span class="string">Aborting</span></span><br></pre></td></tr></table></figure>
<p><span class="ljspan ljspan-red">è§£å†³åŠæ³•</span>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åŸæ¥æˆ‘æ— æ³•é€šè¿‡sshæ–¹å¼ç™»å½•ï¼Œä½¿ç”¨localhostæœ¬æœºï¼Œå°±å¯ä»¥ç™»é™†äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸ªé”™è¯¯ï¼Œå¯é€šè¿‡æŸ¥çœ‹my.cnfæ–‡ä»¶æŸ¥çœ‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯mysqld.cnfç­‰ç­‰ï¼Œåæ­£çœ‹åˆ°æœ‰é…ç½®datadirå’Œsocketç­‰å­—çœ¼çš„æ–‡ä»¶å°±æ˜¯äº†</span></span><br><span class="line"><span class="comment">#è¿›å…¥my.cnfç„¶åå¦‚æœçœ‹åˆ°bind-address   = 127.0.0.1ï¼Œå°±æ³¨é”€æ‰ï¼Œè¿™æ ·å°±å¯ä»¥è¿œç¨‹å¼€å¯mysqlæœåŠ¡äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å ç”¨3306ç«¯å£çš„ç¨‹åº</span></span><br><span class="line">ps -aux |grep mysql</span><br><span class="line"><span class="comment">#å¦‚è¿‡è¢«å ç”¨å°±ç”¨å‘½ä»¤killæ€æ­»è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å¯æ•°æ®åº“æœåŠ¡</span></span><br><span class="line">sudo service mysql start </span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨rootç”¨æˆ·ç™»å½•</span></span><br><span class="line">mysql -uroot -p </span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹rootå¯†ç (è¿™é‡Œæ˜¯ä¿®æ”¹å½“å‰ç”¨æˆ·å¯†ç çš„ç”¨æˆ·ï¼Œ5.7.29æŒ‡å®šçš„æ–¹å¼ï¼Œä½¿ç”¨update/setéƒ½ä¸è¡Œ)</span></span><br><span class="line">alter user user() identified by <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿œç¨‹ç™»å½•æœåŠ¡å™¨</title>
    <url>/2020/09/09/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<h2 id="å‰è¨€">#å‰è¨€</h2>
<p>æƒ³ä½¿ç”¨xshellè½¯ä»¶è¿œç¨‹ç™»å½•æœåŠ¡å™¨ï¼Œä¸€èˆ¬ä½¿ç”¨sshæ¥è¿æ¥ï¼Œæ‰€ä»¥éœ€è¦ä¸‹è½½sshå“¦ğŸ˜’</p>
<a id="more"></a>
<h2 id="å®‰è£…SSH">å®‰è£…SSH</h2>
<p>é¦–å…ˆå¿…é¡»ä¸‹è½½sshæœåŠ¡å™¨ç«¯,</p>
<p>æˆ‘çš„ç³»ç»Ÿæ˜¯ubuntu18.04,æ‰€ä»¥é‡‡ç”¨apt-getä¸‹è½½å®‰è£…</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æœåŠ¡å™¨æ—¶å€™æœ‰opensshè½¯ä»¶åŒ…</span></span><br><span class="line">sudo dpkg list |grep openssh</span><br><span class="line"><span class="comment">#ä¸‹è½½å®‰è£…openssh-serverè½¯ä»¶åŒ…</span></span><br><span class="line">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®SSH">é…ç½®SSH</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¿®æ”¹åˆ°é…ç½®æ–‡ä»¶</span></span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="comment">#xshellè½¬å‘å¼€å¯</span></span><br><span class="line">X11Forwarding yes</span><br><span class="line"><span class="comment">#å¼€å¯ç”¨æˆ·å¯†ç è®¤è¯</span></span><br><span class="line">PasswordAuthentication yes</span><br><span class="line"><span class="comment">#å¼€å¯ç”¨æˆ·è¿œç¨‹ç™»å½•,usernameä¸ºä½ çš„ç”¨æˆ·å</span></span><br><span class="line">AllowUsers username</span><br><span class="line"><span class="comment">#è®¾ç½®æ–­å¼€è¿æ¥æ—¶é—´ï¼ŒäºŒè€…ç›¸ä¹˜ä¸ºå®¢æˆ·ç«¯æ²¡æœ‰å“åº”åæ–­å¼€è¿æ¥çš„å…·ä½“æ—¶é—´</span></span><br><span class="line"><span class="comment">#æ¯ç§’é’Ÿå‘é€ä¸€èµ·è¯·æ±‚ç»™å®¢æˆ·ç«¯ï¼ˆå•ä½ä¸ºç§’ï¼‰</span></span><br><span class="line">ClientAliveInterval 60</span><br><span class="line"><span class="comment">#å®¢æˆ·ç«¯æ²¡æœ‰å“åº”çš„æœ€å¤§æ•°</span></span><br><span class="line">ClientAliveCountMax 120</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="åˆ°åº•æœ‰æ²¡æœ‰SSHâ”">#åˆ°åº•æœ‰æ²¡æœ‰SSHâ”</h3>
<p>æ–°è£…çš„ç³»ç»Ÿï¼Œåœ¨<code>/etc/init.d/</code>è·¯å¾„ä¸‹ï¼Œæ²¡æœ‰æ‰¾åˆ°sshæ–‡ä»¶</p>
<p>ä½†æ˜¯,ç³»ç»Ÿé‡Œé¢æœ‰sshå•Šï¼Œâ€‹çœ‹ğŸ‘‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ whereis ssh</span><br><span class="line">ssh: /usr/bin/ssh /etc/ssh  /ssh/share/man/man1/ssh1.gz</span><br></pre></td></tr></table></figure>
<p>å¯æ˜¯å‘¢</p>
<p><code>service ssh start</code> å’Œ <code>systemctl start ssh.service </code>éƒ½è¡Œä¸é€š</p>
<p>ğŸ˜µé‚£åˆ°åº•æ—¶æ€ä¹ˆä¸€å›äº‹ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>åŸæ¥åŸè£…çš„ç³»ç»Ÿé‡Œé¢æœ‰openssh-clientï¼Œè€Œæ²¡æœ‰openssh-server,æ‰€ä»¥å°±å¤–ç½‘å°±æ— æ³•é€šè¿‡sshè¿æ¥ä¸Šè¿™ä¸ªæœåŠ¡å™¨å•¦ï¼</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title>è¿ç§»mysqlæ•°æ®</title>
    <url>/2020/09/10/%E8%BF%81%E7%A7%BBmysql%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h2 id="æ‹·è´æ•°æ®">æ‹·è´æ•°æ®</h2>
<p>ä»åŸæ¥çš„mysqlæ•°æ®åº“datadirç›®å½•ï¼Œcpå‡ºæ‰€æœ‰ä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„ï¼Œé™¤äº†é‚£äº›æ•°æ®åº“æ•°æ®è¡¨ï¼Œè¿˜æœ‰ibdata1è¿™ä¸ªæ–‡ä»¶ï¼Œå’Œiblogfile0ã€ib_logfile1å’Œib_buffer_poolç­‰æ–‡ä»¶ï¼Œæœ€å¥½æŠŠæ•´ä¸ªç›®å½•éƒ½æ‹·è´ä¸‹æ¥ã€‚<span class="label info">å±æ€§å’Œç”¨æˆ·æƒé™</span>éƒ½è¦ä¸€å¹¶å¤åˆ¶å“¦ğŸ˜®</p>
<a id="more"></a>
<p>åœ¨æ–°çš„ç³»ç»Ÿä¸­æ–°è£…ä¸€ä¸ªmysqlï¼Œæˆ‘ä½¿ç”¨<span class="label success">APTå®‰è£…æ¨¡å¼</span>ï¼Œæ‰€ä»¥ç›®å½•é…ç½®éƒ½è‡ªåŠ¨å¸®æˆ‘é…ç½®å¥½äº†ï¼ğŸ™‚</p>
<h2 id="å¸è½½mariadb">å¸è½½mariadb</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#é¦–å…ˆå¸è½½mariadbå¹¶åˆ é™¤ç›¸å…³é…ç½®æ–‡ä»¶(datadirç›®å½•)</span></span><br><span class="line">sudo apt-get purge mariadb*</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤æ²¡ç”¨çš„ç›¸å…³ä¾èµ–åŒ…</span></span><br><span class="line">sudo apt-get automove </span><br><span class="line"></span><br><span class="line"><span class="comment">#éªŒè¯mariadbæœåŠ¡æ˜¯å¦è¿˜åœ¨</span></span><br><span class="line">sudo service mysql status</span><br></pre></td></tr></table></figure>
<h2 id="é‡è£…mysqlæœåŠ¡">é‡è£…mysqlæœåŠ¡</h2>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!!!æŠŠæ‹·è´çš„datadirç›®å½•æ‹·è´å›å»/var/lib/mysql</span></span><br><span class="line"><span class="comment">#datadirç›®å½•ä¸‹ä¸€èˆ¬åŒ…å«ibdata1,iblogfile0,æ•°æ®åº“ç›®å½•ç­‰</span></span><br><span class="line">sudo cp -rpf /path/to/datadir/* /var/lib/mysql/</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·»åŠ mysql-apt-ä»“åº“åˆ°ç³»ç»Ÿä»“åº“åˆ—è¡¨</span></span><br><span class="line">sudo dpkg -i /PATH/version-specific-package-name.deb</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç”±äºæˆ‘æ˜¯é‡è£…ï¼Œä¹‹å‰å·²ç»é…ç½®äº†ä»“åº“ï¼Œæ‰€ä»¥çœç•¥ä¸Šä¸€æ­¥</span></span><br><span class="line"><span class="comment">#ä»ä»“åº“æ›´æ–°åŒ…ä¿¡æ¯</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…mysql</span></span><br><span class="line">sudo apt-get install mysql-server</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹mysqlæœåŠ¡ç«¯å£3306æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">ps -aux|grep mysql</span><br><span class="line"><span class="comment">#æ²¡æœ‰çš„è¯å°±å¯ä»¥äº†å¯åŠ¨æœåŠ¡ï¼Œæœ‰çš„è¯ï¼Œç”¨å‘½ä»¤killæ€æ­»é‚£ä¸ªè¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨mysqlæœåŠ¡</span></span><br><span class="line">sudo service mysql start</span><br><span class="line"></span><br><span class="line"><span class="comment">#æµ‹è¯•ä¸€ä¸‹æ˜¯å¦æ­£å¸¸å¯åŠ¨</span></span><br><span class="line">mysql --version</span><br><span class="line"><span class="comment">#çœ‹åˆ°ä»¥ä¸‹ç‰ˆæœ¬ä¿¡æ¯å°±è¯æ˜å®Œæˆå®‰è£…äº†ï¼</span></span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.29, <span class="keyword">for</span> Linux (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="å¿˜è®°å¯†ç ï¼Ÿ">#å¿˜è®°å¯†ç ï¼Ÿ</h2>
<p>æœ‰åŠæ³•æ›´æ–°rootç”¨æˆ·å¯†ç çš„ğŸ˜¸,åˆ«æ…Œ</p>
<p>å¦‚æœrootç”¨æˆ·å¯†ç å¿˜è®°ï¼Œå…ˆå…³äº†mysqlæœåŠ¡ï¼Œç„¶ååˆ°<span class="label warning"> my.cnf</span>æ–‡ä»¶ä¸­åšå¦‚ä¸‹ä¿®æ”¹</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[mysqld]</span><span class="comment">#åœ¨è¿™ä¸ªä¸‹é¢</span></span><br><span class="line">skip-grant-tables #æ·»åŠ ä¸€è¡Œ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ç³»ç»Ÿä¸­ç›´æ¥è¾“å…¥å‘½ä»¤</p>
<blockquote>
<p>mysql -uroot    #å°±å¯ä»¥ç›´æ¥ç™»å½•</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#åœ¨ç™»å½•çš„æ—¶å€™æ›´æ–°å¯†ç </span><br><span class="line">UPDATE mysql.user SET authentication_string&#x3D;password(&#39;xxxxxx&#39;) WHERE User&#x3D;&#39;root&#39; AND Host &#x3D;&#39;localhost&#39;; </span><br><span class="line"></span><br><span class="line">#åˆ·æ–°æƒé™</span><br><span class="line">flush privileges;</span><br><span class="line"></span><br><span class="line">#é€€å‡º</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<div class="note warning">
            <p>æ³¨æ„!!!ğŸ’¥ğŸ’¥</p><p>æ›´æ”¹å¯†ç åï¼Œè®°å¾—æ³¨é‡Šæ‰skip-grant-tables;</p>
          </div>
]]></content>
      <categories>
        <category>database</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
</search>
